import { Start as eN } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Create as eO, Lazy as eP, GetOptional as eQ, SetOptional as eR, OnLoad as eS } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(eT){ return"Dispose"in eT;}
function b(){ const eT=globalThis.document.getElementById("drop");const eU=globalThis.document.getElementById("myFile");const eV=globalThis.document.getElementById("mergeBtn");const eW=globalThis.document.getElementById("result");let eX=null;const eY=(e1) => { e1.preventDefault();e1.stopPropagation();};const eZ=(e1) => { eX=i(e1);c().Clear();for(let e3=0, e4=e1.length-1;e3<=e4;e3++){ const e2=e1.item(e3);c().Append(e2.name);} };eT.addEventListener("dragover", eY);eT.addEventListener("dragenter", eY);eT.addEventListener("drop", (e1) => { eY(e1);return eZ(e1.target.dataTransfer.files);});eU.addEventListener("change", () => eZ(eU.files));eV.addEventListener("click", () => { let e1;if(eX!=null&&eX.$==1&&(eX.$0.length>0&&(e1=eX.$0,true))){ const e2=new FormData();for(let e4=0, e5=e1.length-1;e4<=e5;e4++)e2.append("pdfs", e1.item(e4));const e3=new XMLHttpRequest();e3.open("POST", "/merge");e3.responseType="blob";e3.onload=() => { if(e3.status===200){ const e6=URL.createObjectURL(e3.response);const e7=globalThis.document.createElement("a");e7.setAttribute("href", e6);e7.setAttribute("download", "merged.pdf");e7.style.display="none";globalThis.document.body.appendChild(e7);e7.click();URL.revokeObjectURL(e6);globalThis.document.body.removeChild(e7);eW.innerText="PDFs merged successfully!";return;} else { eW.innerText="Error: "+e3.statusText;return;} };return e3.send(e2);} else { eW.innerText="Please select PDF files first.";return;} });const e0=p.Convert((e1) => p.Element("div", u.Empty, q([p.TextNode(e1)])), c().v);M("");p.RunById("fdisplay", e0);return p.Empty;}
function c(){ return L.UploadedFiles;}
function d(eT, eU){ f(eT, eU);return eT[eU];}
function e(eT){ return eT.dims===2?eT.length*eT.length:eT.length;}
function f(eT, eU){ if(eU<0||eU>=eT.length)l("Index was outside the bounds of the array.");}
function g(eT, eU, eV){ f(eT, eU);eT[eU]=eV;}
function h(eT){ let eU=[];let eV;for(var eW in eT)eU.push(eT[eW]);return eU;}
function i(eT){ return{$:1, $0:eT};}
class j { Equals(eT){ return this===eT;} GetHashCode(){ return -1;} }
class k extends j { key;u0076ar;storage;v;it;Clear(){ this.u0076ar.Set(this.storage.SSet([]));this.ObsoleteAll();} ObsoleteAll(){ w((eT) => { bj(eT.V);}, this.it);this.it.Clear();} Append(eT){ const eU=this.u0076ar.Get();const eV=this.key(eT);const eW=bz((eX) => bO(this.key(eX), eV), eU);if(eW!=null&&eW.$==1)this.u0076ar.Set(this.storage.SSetAt(eW.$0, eT, eU));else this.u0076ar.Set(this.storage.SAppend(eT, eU));this.ObsoleteKey(eV);} ObsoleteKey(eT){ let eU;const eV=(eU=null,[this.it.TryGetValue(eT, {get:() => eU, set:(eW) => { eU=eW;}}), eU]);if(eV[0]){ bj(eV[1]);this.it.RemoveKey(eT);} } GetEnumerator(){ return ca(this.u0076ar.Get());} GetEnumerator0(){ return cd(this.u0076ar.Get());} static New(eT, eU){ return new this("New", eT, eU);} static New_3(eT, eU, eV){ return new this("New_3", eT, eU, eV);} constructor(eT, eU, eV, eW){ let eX;let eY;if(eT=="New"){ eX=eU;eY=eV;eT="New_3";eU=eX;eV=di.Create_1(bB(y(eX, eY.SInit())));eW=eY;} if(eT=="New_3"){ const eZ=eU;const e0=eV;const e1=eW;super();this.key=eZ;this.u0076ar=e0;this.storage=e1;this.v=u0034((e2) => e2.slice(), this.u0076ar.View);this.it=new bi("New_5");} } }
function l(eT){ throw new Error(eT);}
function m(eT){ return[eT.K, eT.V];}
function n(eT, eU){ const eV=1+eU-eT;return eV<=0?[]:E(eV, (eW) => eW+eT);}
function o(eT){ const eU={};const eV=ca(eT);try { while(eV.MoveNext()){ const eW=eV.Current;eU[eW[0]]=eW[1];} } finally { if(typeof eV=="object"&&a(eV))eV.Dispose();} return eU;}
class p extends j { docNode;updates;static get Empty(){ return p.Mk(null, Z());} static Element(eT, eU, eV){ const eW=bg.Concat(eU);const eX=p.Concat(eV);return b3.New(globalThis.document.createElement(eT), eW, eX);} static RunById(eT, eU){ const eV=globalThis.document.getElementById(eT);if(bO(eV, null))l("invalid id: "+eT);else p.Run(eV, eU);} static Mk(eT, eU){ return new p(eT, eU);} static Concat(eT){ return b5(p.Empty, p.Append, b4(eT));} static TextNode(eT){ return p.Mk(bZ(globalThis.document.createTextNode(eT)), Z());} static Run(eT, eU){ ci(eT, eU.docNode);p.RunInPlace(false, eT, eU);} static Convert(eT, eU){ return p.Flatten(u0030(eT, eU));} static Append(eT, eU){ return p.Mk(b1(eT.docNode, eU.docNode), u0031(eT.updates, eU.updates));} static RunInPlace(eT, eU, eV){ const eW=cl(eU, eV.docNode);u0032(c6()||da()?db(cm(eT, eW, eV.docNode)):() => { cn(eT, eW, eV.docNode);}, eV.updates);} static Flatten(eT){ return p.EmbedView(u0034(p.Concat, eT));} static EmbedView(eT){ const eU=cu();return p.Mk(b2(eU), u0034(() => { }, u0036((eV) => { cv(eU, eV.docNode);return eV.updates;}, eT)));} constructor(eT, eU){ super();this.docNode=eT;this.updates=eU;} }
function q(eT){ let eU=u.Empty;for(let eV=e(eT)-1, eW=0;eV>=eW;eV--)eU=u.Cons(d(eT, eV), eU);return eU;}
function r(eT){ return eT.$==1?eT.$0:t();}
function s(eT){ return eT.$==1?eT.$1:t();}
function t(){ return l("The input list was empty.");}
class u { static Empty=eO(u, {$:0});static Cons(eT, eU){ return eO(u, {$:1, $0:eT, $1:eU});} GetEnumerator(){ return new dh(this, null, (eT) => { const eU=eT.s;return eU.$==0?false:(eT.c=eU.$0,eT.s=eU.$1,true);}, void 0);} }
class v extends j { }
function w(eT, eU){ const eV=ca(eU);try { while(eV.MoveNext())eT(eV.Current);} finally { if(typeof eV=="object"&&a(eV))eV.Dispose();} }
function x(eT){ const eU=ca(eT);try { return eU.MoveNext()?eU.Current:c2();} finally { if(typeof eU=="object"&&a(eU))eU.Dispose();} }
function y(eT, eU){ return{GetEnumerator:() => { const eV=ca(eU);const eW=new cg("New_3");return new dh(null, null, (eX) => { let eY;let eZ;if(eV.MoveNext()){ eY=eV.Current;eZ=eW.SAdd(eT(eY));while(!eZ&&eV.MoveNext()){ eY=eV.Current;eZ=eW.SAdd(eT(eY));} return eZ&&(eX.c=eY,true);} else return false;}, () => { eV.Dispose();});}};}
function z(eT, eU, eV){ let eW=eU;const eX=ca(eV);try { while(eX.MoveNext())eW=eT(eW, eX.Current);return eW;} finally { if(typeof eX=="object"&&a(eX))eX.Dispose();} }
function A(eT){ return{GetEnumerator:() => ca(eT())};}
function B(eT, eU){ return D(C(eT, eU));}
function C(eT, eU){ return{GetEnumerator:() => { const eV=ca(eU);return new dh(null, null, (eW) => eV.MoveNext()&&(eW.c=eT(eV.Current),true), () => { eV.Dispose();});}};}
function D(eT){ return{GetEnumerator:() => { const eU=ca(eT);function eV(eW){ while(true){ const eX=eW.s;if(bO(eX, null)){ if(eU.MoveNext()){ eW.s=ca(eU.Current);eW=eW;} else { eU.Dispose();return false;} } else if(eX.MoveNext()){ eW.c=eX.Current;return true;} else { eW.Dispose();eW.s=null;eW=eW;} } } return new dh(null, null, eV, (eW) => { const eX=eW.s;if(!bO(eX, null))eX.Dispose();if(!bO(eU, null))eU.Dispose();});}};}
function E(eT, eU){ return F(eT, G(eU));}
function F(eT, eU){ eT<0?c4():void 0;return{GetEnumerator:() => { const eV=[ca(eU)];return new dh(0, null, (eW) => { eW.s=eW.s+1;if(eW.s>eT)return false;else { const eX=eV[0];return bO(eX, null)?c2():eX.MoveNext()?(eW.c=eX.Current,eW.s===eT?(eX.Dispose(),eV[0]=null):void 0,true):(eX.Dispose(),eV[0]=null,c2());} }, () => { const eW=eV[0];if(!bO(eW, null))eW.Dispose();});}};}
function G(eT){ return{GetEnumerator:() => new dh(0, null, (eU) => { eU.c=eT(eU.s);eU.s=eU.s+1;return true;}, void 0)};}
function H(eT, eU){ return!J((eV) =>!eT(eV), eU);}
function I(eT){ const eU=ca(eT);try { if(!eU.MoveNext())K();let eV=eU.Current;while(eU.MoveNext()){ const eW=eU.Current;if(bW(eW, eV)===1)eV=eW;} return eV;} finally { if(typeof eU=="object"&&a(eU))eU.Dispose();} }
function J(eT, eU){ const eV=ca(eU);try { let eW=false;while(!eW&&eV.MoveNext())eW=eT(eV.Current);return eW;} finally { if(typeof eV=="object"&&a(eV))eV.Dispose();} }
function K(){ return l("The input sequence was empty.");}
let L=eP((eT) => class eU { static { L=eT(this);} static UploadedFiles;static { this.UploadedFiles=bx((eV) => eV, u.Empty);} });
function M(eT){!N()?(O(true),P(globalThis.document.body, "")):void 0;Q().set_Item(eT, R(""));}
function N(){ return cf.LocalTemplatesLoaded;}
function O(eT){ cf.LocalTemplatesLoaded=eT;}
function P(eT, eU){ const eV=R(eU);const eW=new bi("New_5");const eX=eT.querySelectorAll("[ws-template]");for(let e9=0, e_=eX.length-1;e9<=e_;e9++){ const eY=eX[e9];const eZ=eY.getAttribute("ws-template").toLowerCase();eY.removeAttribute("ws-template");eW.set_Item(eZ, S(eY));} const e0=eT.querySelectorAll("[ws-children-template]");for(let e$=0, fa=e0.length-1;e$<=fa;e$++){ const e1=e0[e$];const e2=e1.getAttribute("ws-children-template").toLowerCase();e1.removeAttribute("ws-children-template");eW.set_Item(e2, T(e1));} const e3=eT.querySelectorAll("template[id]");for(let fb=0, fc=e3.length-1;fb<=fc;fb++){ const e4=e3[fb];eW.set_Item(e4.getAttribute("id").toLowerCase(), U(e4));} const e5=eT.querySelectorAll("template[name]");for(let fd=0, fe=e5.length-1;fd<=fe;fd++){ const e6=e5[fd];eW.set_Item(e6.getAttribute("name").toLowerCase(), U(e6));} const e7=new cg("New_3");function e8(ff){ if(!eV.ContainsKey(ff)){ let fg;const fh=(fg=null,[eW.TryGetValue(ff, {get:() => fg, set:(fi) => { fg=fi;}}), fg]);if(fh[0]){ e7.SAdd(ff);eW.RemoveKey(ff);V(eU, i(ff), fh[1], i(e8));} else console.warn(e7.Contains(ff)?"Encountered loop when instantiating "+ff:"Local template does not exist: "+ff);} } while(eW.count>0)e8(x(eW.Keys));}
function Q(){ return cf.LoadedTemplates;}
function R(eT){ let eU;const eV=(eU=null,[Q().TryGetValue(eT, {get:() => eU, set:(eX) => { eU=eX;}}), eU]);if(eV[0])return eV[1];else { const eW=new bi("New_5");Q().set_Item(eT, eW);return eW;} }
function S(eT){ eT.removeAttribute("ws-template");const eU=eT.getAttribute("ws-replace");if(eU==null){ } else { eT.removeAttribute("ws-replace");const eV=eT.parentNode;if(bO(eV, null)){ } else { const eW=globalThis.document.createElement(eT.tagName);eW.setAttribute("ws-replace", eU);eV.replaceChild(eW, eT);} } const eX=globalThis.document.createElement("div");eX.appendChild(eT);return eX;}
function T(eT){ const eU=globalThis.document.createElement("div");while(eT.hasChildNodes())eU.appendChild(eT.firstChild);return eU;}
function U(eT){ const eU=globalThis.document.createElement("div");const eV=eT.content;for(let eW=0, eX=eV.childNodes.length-1;eW<=eX;eW++)eU.appendChild(eV.childNodes[eW].cloneNode(true));return eU;}
function V(eT, eU, eV, eW){ const eX=new cg("New_3");function eY(e5, e6){ while(true)switch(e5){ case 0:if(e6!==null){ const e7=e6.nextSibling;if(bO(e6.nodeType, Node.TEXT_NODE))cT(e6);else if(bO(e6.nodeType, Node.ELEMENT_NODE))e0(e6);e6=e7;} else return null;break;case 1:const e8=c1(e6.nodeName, i(3), null).toLowerCase();const e9=e8.indexOf(".");const e_=e9===-1?[eT, e8]:[c1(e8, null, i(e9-1)), c1(e8, i(e9+1), null)];const e$=e_[1];const fa=e_[0];if(fa!=""&&!Q().ContainsKey(fa))return cU(e$);else { if(fa==""&&eW!=null)eW.$0(e$);const fb=Q().Item(fa);if(!fb.ContainsKey(e$))return cU(e$);else { const fc=fb.Item(e$);const fd=fc.cloneNode(true);const fe=new cg("New_3");const ff=new bi("New_5");const fg=e6.attributes;for(let fq=0, fr=fg.length-1;fq<=fr;fq++){ const fh=fg.item(fq).name.toLowerCase();const fi=fg.item(fq).nodeValue;let fj=fi==""?fh:fi.toLowerCase();ff.set_Item(fh, fj);if(!fe.SAdd(fh))console.warn("Hole mapped twice", fh);} for(let fs=0, ft=e6.childNodes.length-1;fs<=ft;fs++){ const fk=e6.childNodes[fs];if(bO(fk.nodeType, Node.ELEMENT_NODE))if(!fe.SAdd(fk.nodeName.toLowerCase()))console.warn("Hole filled twice", e$);} const fl=e6.childNodes.length===1&&bO(e6.firstChild.nodeType, Node.TEXT_NODE);if(fl){ const fm=cV(fd, e6.firstChild.textContent, e$);const fn=((fu) =>(fv) => fu.SAdd(fv))(fe);let fo=((fu) =>(fv) => { if(fv!=null)fu(fv.$0);})((fu) => { fn(fu);});fo(fm);} cW(fd, fe);if(!fl){ for(let fu=0, fv=e6.childNodes.length-1;fu<=fv;fu++){ const fp=e6.childNodes[fu];if(bO(fp.nodeType, Node.ELEMENT_NODE))if(fp.hasAttributes())cX(fd, fp);else eZ(fd, fp);} } cY(fd, ff);cZ(fd, e6.parentNode, e6);e6.parentNode.removeChild(e6);return;} } break;} } function eZ(e5, e6){ const e7=e6.nodeName.toLowerCase();const e8=(fa, fb) => { if(e7=="title"&&e6.hasChildNodes()){ const fc=u0038(e6.textContent);e6.removeChild(e6.firstChild);while(fc.hasChildNodes())e6.appendChild(fc.firstChild);} e0(e6);return cZ(e6, fa, fb);};W(e5, "[ws-attr-holes]", (fa) => { const fb=dk(fa.getAttribute("ws-attr-holes"), [" "], 1);for(let ff=0, fg=fb.length-1;ff<=fg;ff++){ const fc=d(fb, ff);let fd=new RegExp("\\${"+e7+"}", "ig");let fe=fa.getAttribute(fc).replace(fd, e6.textContent);fa.setAttribute(fc, fe);} });const e9=e5.querySelector("[ws-hole="+e7+"]");if(bO(e9, null)){ const e_=e5.querySelector("[ws-replace="+e7+"]");if(bO(e_, null)){ const e$=e5.querySelector("slot[name="+e7+"]");return e5.tagName.toLowerCase()=="template"?(e8(e$.parentNode, e$),void e$.parentNode.removeChild(e$)):null;} else { e8(e_.parentNode, e_);e_.parentNode.removeChild(e_);return;} } else { while(e9.hasChildNodes())e9.removeChild(e9.lastChild);e9.removeAttribute("ws-hole");return e8(e9, null);} } function e0(e5){ if(!e5.hasAttribute("ws-preserve"))if(dl(e5.nodeName.toLowerCase(), "ws-"))e2(e5);else { c0(e5);e1(e5.firstChild);} } function e1(e5){ return eY(0, e5);} function e2(e5){ return eY(1, e5);} function e3(e5){ while(true){ const e6=e5.querySelector("[ws-template]");if(bO(e6, null)){ const e7=e5.querySelector("[ws-children-template]");if(bO(e7, null)){ const e8=e5.querySelectorAll("template[id]");for(let fc=1, fd=e8.length-1;fc<=fd;fc++){ const e9=e8[fc];if(eX.Contains(e9)){ } else { V(eT, i(e9.getAttribute("id")), e9, null);eX.SAdd(e9);} } const e_=e5.querySelectorAll("template[name]");for(let fe=1, ff=e_.length-1;fe<=ff;fe++){ const e$=e_[fe];if(eX.Contains(e$)){ } else { V(eT, i(e$.getAttribute("name")), e$, null);eX.SAdd(e$);} } return null;} else { const fa=e7.getAttribute("ws-children-template");e7.removeAttribute("ws-children-template");V(eT, i(fa), e7, null);e5=e5;} } else { const fb=e6.getAttribute("ws-template");(X(eT, i(fb), e6))(null);e5=e5;} } } const e4=(eU==null?"":eU.$0).toLowerCase();R(eT).set_Item(e4, eV);if(eV.hasChildNodes()){ e3(eV);e1(eV.firstChild);} }
function W(eT, eU, eV){ bd(eT, eU, (eW) => { if(eW.closest("[ws-preserve]")==null)eV(eW);});}
function X(eT, eU, eV){ const eW=S(eV);return(eX) => { V(eT, eU, eW, eX);};}
function Y(){ return cf.TextHoleRE;}
function Z(eT){ const eU={s:b9(eT)};return() => eU;}
function u0030(eT, eU){ return u0033((eV) => eV, eT, eU);}
function u0031(eT, eU){ return u0035(() => bm(eT(), eU()));}
function u0032(eT, eU){ function eV(){ bn(eU(), eT, () => { dE().Fork(eV);});} dE().Fork(eV);}
function u0033(eT, eU, eV){ const eW=[new bi("New_5")];return u0034((eX) => { const eY=eW[0];const eZ=new bi("New_5");const e0=b7((e1) => { const e2=eT(e1);const e3=eY.ContainsKey(e2)?eY.Item(e2):eU(e1);eZ.set_Item(e2, e3);return e3;}, bB(eX));eW[0]=eZ;return e0;}, eV);}
function u0034(eT, eU){ return u0035(() => bo(eT, eU()));}
function u0035(eT){ const eU={c:null, o:eT};return() => { let eV=eU.c;if(eV===null){ eV=eU.o();eU.c=eV;const eW=eV.s;if(eW!=null&&eW.$==0)eU.o=null;else bl(eV, () => { eU.c=null;});return eV;} else return eV;};}
function u0036(eT, eU){ return u0037(u0034(eT, eU));}
function u0037(eT){ return u0035(() => bw(eT()));}
function u0038(eT){ const eU=globalThis.document.createElement("div");if(!u0039().test(eT)){ eU.appendChild(globalThis.document.createTextNode(eT));return eU;} else { const eV=bc().exec(eT);const eW=bO(eV, null)?"":d(eV, 1).toLowerCase();const eX=($())[eW];const eY=eX?eX:ba();eU.innerHTML=eY[1]+eT.replace(bb(), "<$1></$2>")+eY[2];function eZ(e0, e1){ while(true){ if(e1===0)return e0;else { const e2=e1;e0=e0.lastChild;e1=e2-1;} } } return eZ(eU, eY[0]);} }
function u0039(){ return ec.rhtml;}
function $(){ return ec.wrapMap;}
function ba(){ return ec.defaultWrap;}
function bb(){ return ec.rxhtmlTag;}
function bc(){ return ec.rtagName;}
function bd(eT, eU, eV){ const eW=eT.querySelectorAll(eU);for(let eX=0, eY=eW.length-1;eX<=eY;eX++)eV(eW[eX]);}
function be(eT, eU, eV){ let eW;if(eV.parentNode===eT){ const eX=eV.nextSibling;let eY=bO(eX, null)?null:eX;eW=eU===eY;} else eW=false;if(!eW)eT.insertBefore(eV, eU);}
function bf(eT, eU){ if(eU.parentNode===eT)eT.removeChild(eU);}
class bg { static Concat(eT){ const eU=b4(eT);return b5(cE(), bg.Append, eU);} static Append(eT, eU){ return cD(eT, eU);} static A2(eT, eU){ return eO(bg, {$:2, $0:eT, $1:eU});} }
class bh { }
class bi extends j { equals;hash;count;data;Clear(){ this.data=[];this.count=0;} set_Item(eT, eU){ this.set(eT, eU);} TryGetValue(eT, eU){ const eV=this.data[this.hash(eT)];if(eV==null)return false;else { const eW=bC((eX) => { const eY=m(eX);return this.equals.apply(null, [eY[0], eT])?i(eY[1]):null;}, eV);return eW!=null&&eW.$==1&&(eU.set(eW.$0),true);} } RemoveKey(eT){ return this.remove(eT);} ContainsKey(eT){ const eU=this.data[this.hash(eT)];return eU==null?false:bD((eV) => this.equals.apply(null, [(m(eV))[0], eT]), eU);} get Keys(){ return new c5(this);} set(eT, eU){ const eV=this.hash(eT);const eW=this.data[eV];if(eW==null){ this.count=this.count+1;this.data[eV]=new Array({K:eT, V:eU});} else { const eX=bz((eY) => this.equals.apply(null, [(m(eY))[0], eT]), eW);if(eX==null){ this.count=this.count+1;eW.push({K:eT, V:eU});} else eW[eX.$0]={K:eT, V:eU};} } remove(eT){ const eU=this.hash(eT);const eV=this.data[eU];if(eV==null)return false;else { const eW=bE((eX) =>!this.equals.apply(null, [(m(eX))[0], eT]), eV);return e(eW)<eV.length&&(this.count=this.count-1,this.data[eU]=eW,true);} } Item(eT){ return this.get(eT);} GetEnumerator(){ return cd(bI(h(this.data)));} get(eT){ const eU=this.data[this.hash(eT)];return eU==null?cS():bJ((eV) => { const eW=m(eV);return this.equals.apply(null, [eW[0], eT])?i(eW[1]):null;}, eU);} static New_5(){ return new this("New_5");} static New_6(eT, eU, eV){ return new this("New_6", eT, eU, eV);} constructor(eT, eU, eV, eW){ if(eT=="New_5"){ eT="New_6";eU=[];eV=bO;eW=bR;} if(eT=="New_6"){ const eX=eU;const eY=eV;const eZ=eW;super();this.equals=eY;this.hash=eZ;this.count=0;this.data=[];const e0=ca(eX);try { while(e0.MoveNext()){ const e1=e0.Current;this.set(e1.K, e1.V);} } finally { if(typeof e0=="object"&&a(e0))e0.Dispose();} } } }
function bj(eT){ let eU;const eV=eT.s;if(eV==null||(eV!=null&&eV.$==2?(eU=eV.$1,false):eV!=null&&eV.$==3?(eU=eV.$1,false):true))void 0;else { eT.s=null;for(let eX=0, eY=e(eU)-1;eX<=eY;eX++){ const eW=d(eU, eX);if(typeof eW=="object")(((eZ) => { bj(eZ);})(eW));else eW();} } }
function bk(eT){ const eU=eT.s;if(eU==null)return eT;else if(eU!=null&&eU.$==2){ const eV={s:b_(eU.$0, [])};bp(eT, eV);return eV;} else if(eU!=null&&eU.$==3){ const eW={s:b$([], [])};bq(eT, (eX) => { br(eW, eT, eX);}, eW);return eW;} else return eT;}
function bl(eT, eU){ const eV=eT.s;if(eV==null)eU();else eV!=null&&eV.$==2?eV.$1.push(eU):eV!=null&&eV.$==3?eV.$1.push(eU):void 0;}
function bm(eT, eU){ const eV=eT.s;const eW=eU.s;if(eV!=null&&eV.$==0)return eW!=null&&eW.$==0?{s:b9(null)}:eU;else if(eW!=null&&eW.$==0)return eT;else { const eX={s:b$([], [])};const eY=() => { const eZ=eX.s;if(!(eZ!=null&&eZ.$==0||eZ!=null&&eZ.$==2)){ const e0=bs(eT);const e1=bs(eU);if(e0!=null&&e0.$==1)if(e1!=null&&e1.$==1)if(e0.$0[1]&&e1.$0[1])bt(eX, null);else bu(eX, null);} };bq(eT, eY, eX);bq(eU, eY, eX);return eX;} }
function bn(eT, eU, eV){ const eW=eT.s;if(eW==null)eV();else eW!=null&&eW.$==2?(eW.$1.push(eV),eU(eW.$0)):eW!=null&&eW.$==3?(eW.$0.push(eU),eW.$1.push(eV)):eU(eW.$0);}
function bo(eT, eU){ const eV=eU.s;if(eV!=null&&eV.$==0)return{s:b9(eT(eV.$0))};else { const eW={s:b$([], [])};bq(eU, (eX) => { br(eW, eU, eT(eX));}, eW);return eW;} }
function bp(eT, eU){ const eV=eT.s;if(eV==null)bj(eU);else eV!=null&&eV.$==2?bv(eV.$1, eU):eV!=null&&eV.$==3?bv(eV.$1, eU):void 0;}
function bq(eT, eU, eV){ const eW=eT.s;if(eW==null)bj(eV);else eW!=null&&eW.$==2?(bv(eW.$1, eV),eU(eW.$0)):eW!=null&&eW.$==3?(eW.$0.push(eU),bv(eW.$1, eV)):eU(eW.$0);}
function br(eT, eU, eV){ const eW=eU.s;if(eW!=null&&eW.$==0)bt(eT, eV);else bu(eT, eV);}
function bs(eT){ const eU=eT.s;return eU!=null&&eU.$==0?i([eU.$0, true]):eU!=null&&eU.$==2?i([eU.$0, false]):null;}
function bt(eT, eU){ const eV=eT.s;if(eV!=null&&eV.$==3){ eT.s=b9(eU);const eW=eV.$0;for(let eX=0, eY=e(eW)-1;eX<=eY;eX++)(d(eW, eX))(eU);} else void 0;}
function bu(eT, eU){ const eV=eT.s;if(eV!=null&&eV.$==3){ eT.s=b_(eU, eV.$1);const eW=eV.$0;for(let eX=0, eY=e(eW)-1;eX<=eY;eX++)(d(eW, eX))(eU);} else void 0;}
function bv(eT, eU){ eT.push(eU);if(eT.length%20===0){ const eV=eT.slice(0);eG(eT);for(let eX=0, eY=e(eV)-1;eX<=eY;eX++){ const eW=d(eV, eX);if(typeof eW=="object")(((eZ) => { if(eZ.s)eT.push(eZ);})(eW));else(((eZ) => { eT.push(eZ);})(eW));} } else void 0;}
function bw(eT){ const eU={s:b$([], [])};bq(eT, (eV) => { const eW=eV();bq(eW, (eX) => { let eY;const eZ=eW.s;if(eZ!=null&&eZ.$==0){ const e0=eT.s;eY=e0!=null&&e0.$==0;} else eY=false;if(eY)bt(eU, eX);else bu(eU, eX);}, eU);}, eU);return eU;}
function bx(eT, eU){ return by(eT, ce(bB(eU)));}
function by(eT, eU){ return new k("New", eT, eU);}
function bz(eT, eU){ let eV=null;let eW=0;while(eW<eU.length&&eV==null){ eT(eU[eW])?eV=i(eW):void 0;eW=eW+1;} return eV;}
function bA(eT){ const eU=[];let eV=eT;while(!(eV.$==0)){ eU.push(r(eV));eV=s(eV);} return eU;}
function bB(eT){ if(eT instanceof Array)return eT.slice();else if(eT instanceof u)return bA(eT);else { const eU=[];const eV=ca(eT);try { while(eV.MoveNext())eU.push(eV.Current);return eU;} finally { if(typeof eV=="object"&&a(eV))eV.Dispose();} } }
function bC(eT, eU){ let eV=null;let eW=0;while(eW<eU.length&&eV==null){ const eX=eT(eU[eW]);if(eX!=null&&eX.$==1)eV=eX;eW=eW+1;} return eV;}
function bD(eT, eU){ let eV=false;let eW=0;while(!eV&&eW<e(eU))if(eT(eU[eW]))eV=true;else eW=eW+1;return eV;}
function bE(eT, eU){ const eV=[];for(let eW=0, eX=eU.length-1;eW<=eX;eW++)if(eT(eU[eW]))eV.push(eU[eW]);return eV;}
function bF(eT, eU){ const eV=new Array(eU.length);for(let eW=0, eX=eU.length-1;eW<=eX;eW++)eV[eW]=eT(eU[eW]);return eV;}
function bG(eT, eU){ for(let eV=0, eW=eU.length-1;eV<=eW;eV++)eT(eU[eV]);}
function bH(eT, eU, eV){ let eW=eV;const eX=eU.length;for(let eY=1, eZ=eX;eY<=eZ;eY++)eW=eT(eU[eX-eY], eW);return eW;}
function bI(eT){ return Array.prototype.concat.apply([], bB(eT));}
function bJ(eT, eU){ const eV=bC(eT, eU);return eV==null?l("KeyNotFoundException"):eV.$0;}
function bK(eT, eU){ const eV=[];for(let eX=0, eY=eU.length-1;eX<=eY;eX++){ const eW=eT(eU[eX]);if(eW==null){ } else eV.push(eW.$0);} return eV;}
function bL(eT, eU){ const eV=new Array(eT);for(let eW=0, eX=eT-1;eW<=eX;eW++)eV[eW]=eU;return eV;}
function bM(eT, eU){ if(eT<0)l("Negative size given.");else null;const eV=new Array(eT);for(let eW=0, eX=eT-1;eW<=eX;eW++)eV[eW]=eU(eW);return eV;}
function bN(eT, eU){ let eV=true;let eW=0;while(eV&&eW<e(eU))if(eT(eU[eW]))eW=eW+1;else eV=false;return eV;}
function bO(eT, eU){ if(eT===eU)return true;else { const eV=typeof eT;if(eV=="object"){ if(eT===null||eT===void 0||eU===null||eU===void 0||!bO(typeof eU, "object"))return false;else if("Equals"in eT)return eT.Equals(eU);else if("Equals"in eU)return false;else if(eT instanceof Array&&eU instanceof Array)return bP(eT, eU);else if(eT instanceof Date&&eU instanceof Date)return bQ(eT, eU);else { const eW=[true];let eX;for(var eZ in eT)if(((e0) => { eW[0]=!eT.hasOwnProperty(e0)||eU.hasOwnProperty(e0)&&bO(eT[e0], eU[e0]);return!eW[0];})(eZ))break;if(eW[0]){ let eY;for(var e0 in eU)if(((e1) => { eW[0]=!eU.hasOwnProperty(e1)||eT.hasOwnProperty(e1);return!eW[0];})(e0))break;} return eW[0];} } else return eV=="function"&&("$Func"in eT?eT.$Func===eU.$Func&&eT.$Target===eU.$Target:"$Invokes"in eT&&"$Invokes"in eU&&bP(eT.$Invokes, eU.$Invokes));} }
function bP(eT, eU){ let eV;let eW;if(e(eT)===e(eU)){ eV=true;eW=0;while(eV&&eW<e(eT)){!bO(d(eT, eW), d(eU, eW))?eV=false:void 0;eW=eW+1;} return eV;} else return false;}
function bQ(eT, eU){ return eT.getTime()===eU.getTime();}
function bR(eT){ const eU=typeof eT;return eU=="function"?0:eU=="boolean"?eT?1:0:eU=="number"?eT:eU=="string"?bS(eT):eU=="object"?eT==null?0:eT instanceof Array?bT(eT):bU(eT):0;}
function bS(eT){ let eU;if(eT===null)return 0;else { eU=5381;for(let eV=0, eW=eT.length-1;eV<=eW;eV++)eU=bV(eU, eT[eV].charCodeAt());return eU;} }
function bT(eT){ let eU=-34948909;for(let eV=0, eW=e(eT)-1;eV<=eW;eV++)eU=bV(eU, bR(d(eT, eV)));return eU;}
function bU(eT){ if("GetHashCode"in eT)return eT.GetHashCode();else { const eU=[0];let eV;for(var eW in eT)if(((eX) => { eU[0]=bV(bV(eU[0], bS(eX)), bR(eT[eX]));return false;})(eW))break;return eU[0];} }
function bV(eT, eU){ return(eT<<5)+eT+eU;}
function bW(eT, eU){ if(eT===eU)return 0;else { const eV=typeof eT;switch(eV=="function"?1:eV=="boolean"?2:eV=="number"?2:eV=="string"?2:eV=="object"?3:0){ case 0:return typeof eU=="undefined"?0:-1;case 1:return l("Cannot compare function values.");case 2:return eT<eU?-1:1;case 3:if(eT===null)return -1;else if(eU===null)return 1;else if("CompareTo"in eT)return eT.CompareTo(eU);else if("CompareTo0"in eT)return eT.CompareTo0(eU);else if(eT instanceof Array&&eU instanceof Array)return bX(eT, eU);else if(eT instanceof Date&&eU instanceof Date)return bY(eT, eU);else { const eW=[0];let eX;for(var eZ in eT)if(((e0) =>!eT.hasOwnProperty(e0)?false:!eU.hasOwnProperty(e0)?(eW[0]=1,true):(eW[0]=bW(eT[e0], eU[e0]),eW[0]!==0))(eZ))break;if(eW[0]===0){ let eY;for(var e0 in eU)if(((e1) =>!eU.hasOwnProperty(e1)?false:!eT.hasOwnProperty(e1)&&(eW[0]=-1,true))(e0))break;} return eW[0];} break;} } }
function bX(eT, eU){ let eV;let eW;if(e(eT)<e(eU))return -1;else if(e(eT)>e(eU))return 1;else { eV=0;eW=0;while(eV===0&&eW<e(eT)){ eV=bW(d(eT, eW), d(eU, eW));eW=eW+1;} return eV;} }
function bY(eT, eU){ return bW(eT.getTime(), eU.getTime());}
function bZ(eT){ return{$:5, $0:eT};}
function b0(eT){ return{$:1, $0:eT};}
function b1(eT, eU){ return{$:0, $0:eT, $1:eU};}
function b2(eT){ return{$:2, $0:eT};}
class b3 extends p { docNode_1;updates_1;elt;rvUpdates;static New(eT, eU, eV){ const eW=cj(eT, eU, eV.docNode);const eX=cB.Create(eV.updates);return new b3(b0(eW), u0031(cC(eW.Attr), eX.v), eT, eX);} constructor(eT, eU, eV, eW){ super(eT, eU);this.docNode_1=eT;this.updates_1=eU;this.elt=eV;this.rvUpdates=eW;} }
function b4(eT){ if(eT instanceof Array)return eT;else if(eT instanceof u)return bA(eT);else if(eT===null)return[];else { const eU=[];const eV=ca(eT);try { while(eV.MoveNext())eU.push(eV.Current);return eU;} finally { if(typeof eV=="object"&&a(eV))eV.Dispose();} } }
function b5(eT, eU, eV){ const eW=e(eV);function eX(eY){ return(eZ) => { let e0;switch(eZ<=0?0:eZ===1?eY>=0&&eY<eW?1:(e0=eZ,2):(e0=eZ,2)){ case 0:return eT;case 1:return d(eV, eY);case 2:const e1=eZ/2>>0;return eU((eX(eY))(e1), (eX(eY+e1))(eZ-e1));} };} return(eX(0))(eW);}
function b6(eT, eU, eV, eW){ const eX=e(eW);function eY(eZ){ return(e0) => { let e1;switch(e0<=0?0:e0===1?eZ>=0&&eZ<eX?1:(e1=e0,2):(e1=e0,2)){ case 0:return eU;case 1:return eT(d(eW, eZ));case 2:const e2=e0/2>>0;return eV((eY(eZ))(e2), (eY(eZ+e2))(e0-e2));} };} return(eY(0))(eX);}
function b7(eT, eU){ for(let eV=0, eW=eU.length-1;eV<=eW;eV++)eU[eV]=eT(eU[eV]);return eU;}
function b8(eT, eU){ return el(eT, -2147483648, 2147483647, eU);}
function b9(eT){ return{$:0, $0:eT};}
function b_(eT, eU){ return{$:2, $0:eT, $1:eU};}
function b$(eT, eU){ return{$:3, $0:eT, $1:eU};}
function ca(eT){ return eT instanceof Array?cb(eT):bO(typeof eT, "string")?cc(eT):eT.GetEnumerator();}
function cb(eT){ return new dh(0, null, (eU) => { const eV=eU.s;return eV<e(eT)&&(eU.c=d(eT, eV),eU.s=eV+1,true);}, void 0);}
function cc(eT){ return new dh(0, null, (eU) => { const eV=eU.s;return eV<eT.length&&(eU.c=eT[eV],eU.s=eV+1,true);}, void 0);}
function cd(eT){ return eT instanceof Array?cb(eT):bO(typeof eT, "string")?cc(eT):"GetEnumerator0"in eT?eT.GetEnumerator0():eT.GetEnumerator();}
function ce(eT){ return new cQ(eT);}
let cf=eP((eT) => class eU { static { cf=eT(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bi("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bi("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
class cg extends j { equals;hash;data;count;SAdd(eT){ return this.add(eT);} Contains(eT){ const eU=this.data[this.hash(eT)];return eU==null?false:this.arrContains(eT, eU);} add(eT){ const eU=this.hash(eT);const eV=this.data[eU];return eV==null?(this.data[eU]=[eT],this.count=this.count+1,true):this.arrContains(eT, eV)?false:(eV.push(eT),this.count=this.count+1,true);} arrContains(eT, eU){ let eV=true;let eW=0;const eX=eU.length;while(eV&&eW<eX)if(this.equals.apply(null, [eU[eW], eT]))eV=false;else eW=eW+1;return!eV;} GetEnumerator(){ return ca(em(this.data));} ExceptWith(eT){ const eU=ca(eT);try { while(eU.MoveNext())this.Remove(eU.Current);} finally { if(typeof eU=="object"&&a(eU))eU.Dispose();} } get Count(){ return this.count;} IntersectWith(eT){ const eU=new cg("New_4", eT, this.equals, this.hash);const eV=em(this.data);for(let eX=0, eY=eV.length-1;eX<=eY;eX++){ const eW=eV[eX];if(!eU.Contains(eW))this.Remove(eW);} } Remove(eT){ const eU=this.data[this.hash(eT)];return eU==null?false:this.arrRemove(eT, eU)&&(this.count=this.count-1,true);} CopyTo(eT, eU){ const eV=em(this.data);for(let eW=0, eX=eV.length-1;eW<=eX;eW++)g(eT, eW+eU, eV[eW]);} arrRemove(eT, eU){ let eV=true;let eW=0;const eX=eU.length;while(eV&&eW<eX)if(this.equals.apply(null, [eU[eW], eT])){ eU.splice(eW, 1);eV=false;} else eW=eW+1;return!eV;} static New_3(){ return new this("New_3");} static New_4(eT, eU, eV){ return new this("New_4", eT, eU, eV);} static New_2(eT){ return new this("New_2", eT);} constructor(eT, eU, eV, eW){ if(eT=="New_3"){ eT="New_4";eU=[];eV=bO;eW=bR;} let eX;if(eT=="New_2"){ eX=eU;eT="New_4";eU=eX;eV=bO;eW=bR;} if(eT=="New_4"){ const eY=eU;const eZ=eV;const e0=eW;super();this.equals=eZ;this.hash=e0;this.data=[];this.count=0;const e1=ca(eY);try { while(e1.MoveNext())this.add(e1.Current);} finally { if(typeof e1=="object"&&a(e1))e1.Dispose();} } } }
class ch extends j { }
function ci(eT, eU){ ck(eT, eU, null);}
function cj(eT, eU, eV){ ci(eT, eV);const eW=cF(eT, eU);return cA.New(eW, eV, null, eT, dd(), eQ(eW.OnAfterRender));}
function ck(eT, eU, eV){ while(true){ if(eU!=null&&eU.$==1)return co(eT, eU.$0.El, eV);else if(eU!=null&&eU.$==2){ const eW=eU.$0;eW.Dirty=false;eU=eW.Current;} else if(eU==null)return eV;else if(eU!=null&&eU.$==4)return co(eT, eU.$0.Text, eV);else if(eU!=null&&eU.$==5)return co(eT, eU.$0, eV);else if(eU!=null&&eU.$==6)return bH((eZ, e0) =>((((e1) =>(e2) =>(e3) => e2==null||e2.constructor===Object?ck(e1, e2, e3):co(e1, e2, e3))(eT))(eZ))(e0), eU.$0.Els, eV);else { const eX=eU.$1;const eY=eU.$0;eU=eY;eV=ck(eT, eX, eV);} } }
function cl(eT, eU){ return dr(ds(), cj(eT, cE(), eU));}
function cm(eT, eU, eV){ if(c6()){ const eW=null;return dz(() => { const eX=dt(eV);const eY=cs(eU, eX);const eZ=cr(eU, eX);return dA(c7(c8(eY, cq(eU, eX))), () => dA(cp(eT, eU), () => dA(c7(eZ), () => { eU.PreviousNodes=eX;return dD(null);})));});} else return cp(eT, eU);}
function cn(eT, eU, eV){ const eW=dt(eV);ct(eT, eU.Top);eU.PreviousNodes=eW;}
function co(eT, eU, eV){ be(eT, eV, eU);return eU;}
function cp(eT, eU){ if(da()){ const eV=(eW) => { requestAnimationFrame(() => { ct(eT, eU.Top);eW();});};return dI((eW, eX, eY) => eV.apply(null, [eW, eX, eY]));} else { ct(eT, eU.Top);return dD(null);} }
function cq(eT, eU){ return c$(bF((eV) => cJ(eV.Attr), dx(dw(eU, dv((eV) => cI(eV.Attr), eT.PreviousNodes)))));}
function cr(eT, eU){ return c$(bF((eV) => cL(eV.Attr), dx(dw(eT.PreviousNodes, dv((eV) => cK(eV.Attr), eU)))));}
function cs(eT, eU){ const eV=(eX) => cM(eX.Attr);const eW=(eX) => dv(eV, eX);return c$(bF((eX) => cN(eX.Attr), dx(dy(eW(eT.PreviousNodes), eW(eU)))));}
function ct(eT, eU){!eT?cw(eU):void 0;cx(eU.Children);cy(eU);}
function cu(){ return{Current:null, Dirty:false};}
function cv(eT, eU){ eT.Current=eU;eT.Dirty=true;}
function cw(eT){ function eU(eV){ function eW(eX){ while(true){ if(eX!=null&&eX.$==0){ const eY=eX.$1;const eZ=eX.$0;if(eW(eZ))return true;else eX=eY;} else if(eX!=null&&eX.$==2){ const e0=eX.$0;if(e0.Dirty)return true;else eX=e0.Current;} else if(eX!=null&&eX.$==6){ const e1=eX.$0;return e1.Dirty||bD(eU, e1.Holes);} else return false;} } return eW(eV.Children);} cP(eT.El, eT.Attr);if(eU(eT))cz(eT);}
function cx(eT){ while(true){ if(eT!=null&&eT.$==1)return ct(false, eT.$0);else if(eT!=null&&eT.$==2){ const eU=eT.$0;eT=eU.Current;} else if(eT==null)return null;else if(eT!=null&&eT.$==5)return null;else if(eT!=null&&eT.$==4){ const eV=eT.$0;return eV.Dirty?(eV.Text.nodeValue=eV.Value,eV.Dirty=false):null;} else if(eT!=null&&eT.$==6){ const eW=eT.$0;bG((eZ) => { ct(false, eZ);}, eW.Holes);bG((eZ) => { cP(eZ[0], eZ[1]);}, eW.Attrs);return cy(eW);} else { const eX=eT.$1;const eY=eT.$0;cx(eY);eT=eX;} } }
function cy(eT){ const eU=eQ(eT.Render);if(eU!=null&&eU.$==1){ eU.$0(eT.El);eR(eT, "Render", null);} }
function cz(eT){ const eU=eT.El;function eV(eZ, e0){ while(true){ if(eZ!=null&&eZ.$==1)return eZ.$0.El;else if(eZ!=null&&eZ.$==2){ const e1=eZ.$0;if(e1.Dirty){ e1.Dirty=false;return ck(eU, e1.Current, e0);} else eZ=e1.Current;} else if(eZ==null)return e0;else if(eZ!=null&&eZ.$==4)return eZ.$0.Text;else if(eZ!=null&&eZ.$==5)return eZ.$0;else if(eZ!=null&&eZ.$==6){ const e2=eZ.$0;if(e2.Dirty)e2.Dirty=false;return bH((e5, e6) => e5==null||e5.constructor===Object?eV(e5, e6):e5, e2.Els, e0);} else { const e3=eZ.$1;const e4=eZ.$0;eZ=e4;e0=eV(e3, e0);} } } const eW=eT.El;eD((eZ) => { bf(eW, eZ);}, eC(eE(eT), eB(eT.El, eQ(eT.Delimiters))));let eX=eT.Children;const eY=eQ(eT.Delimiters);eV(eX, eY!=null&&eY.$==1?eY.$0[1]:null);}
class cA { Attr;Children;Delimiters;El;ElKey;Render;Equals(eT){ return this.ElKey===eT.ElKey;} GetHashCode(){ return this.ElKey;} static New(eT, eU, eV, eW, eX, eY){ const eZ={Attr:eT, Children:eU, El:eW, ElKey:eX};let e0=(eR(eZ, "Delimiters", eV),eR(eZ, "Render", eY),eZ);return eO(cA, e0);} }
class cB { c;s;v;static Create(eT){ let eU;eU=null;eU=cB.New(eT, null, () => { let eV;eV=eU.s;return eV===null?(eV=bk(eU.c()),eU.s=eV,bl(eV, () => { eU.s=null;}),eV):eV;});return eU;} static New(eT, eU, eV){ return eO(cB, {c:eT, s:eU, v:eV});} }
function cC(eT){ return b6((eU) => eU.NChanged, Z(), u0031, eT.DynNodes);}
function cD(eT, eU){ if(eT===null)return eU;else if(eU===null)return eT;else { const eV=bg.A2(eT, eU);cG(eV, cH(eT)|cH(eU));return eV;} }
function cE(){ return dg.EmptyAttr;}
function cF(eT, eU){ const eV=[];const eW=[];function eX(e0){ while(true){ if(!(e0===null)){ if(e0!=null&&e0.$==1)return eV.push(e0.$0);else if(e0!=null&&e0.$==2){ const e1=e0.$1;const e2=e0.$0;eX(e2);e0=e1;} else return e0!=null&&e0.$==3?e0.$0(eT):e0!=null&&e0.$==4?eW.push(e0.$0):null;} else return null;} } eX(eU);const eY=eV.slice(0);let eZ=dc(eT, cH(eU), eY, eW.length===0?null:i((e0) => { w((e1) => { e1(e0);}, eW);}));return eZ;}
function cG(eT, eU){ eT.flags=eU;}
function cH(eT){ return eT!==null&&eT.hasOwnProperty("flags")?eT.flags:0;}
function cI(eT){ const eU=2;return(eT.DynFlags&eU)===eU;}
function cJ(eT){ return cO(eT, (eU, eV) => eU.NGetExitAnim(eV));}
function cK(eT){ const eU=1;return(eT.DynFlags&eU)===eU;}
function cL(eT){ return cO(eT, (eU, eV) => eU.NGetEnterAnim(eV));}
function cM(eT){ const eU=4;return(eT.DynFlags&eU)===eU;}
function cN(eT){ return cO(eT, (eU, eV) => eU.NGetChangeAnim(eV));}
function cO(eT, eU){ return c$(bF((eV) => eU(eV, eT.DynElem), eT.DynNodes));}
function cP(eT, eU){ bG((eV) => { eV.NSync(eT);}, eU.DynNodes);}
class cQ extends j { init;SSet(eT){ return bB(eT);} SSetAt(eT, eU, eV){ g(eV, eT, eU);return eV;} SAppend(eT, eU){ eU.push(eT);return eU;} SInit(){ return this.init;} constructor(eT){ super();this.init=eT;} }
class cR extends j { }
function cS(){ throw new en("New");}
function cT(eT){ let eU=null;let eV=0;const eW=eT.textContent;const eX=new RegExp(Y(), "g");while(eU=eX.exec(eW),eU!==null){ eT.parentNode.insertBefore(globalThis.document.createTextNode(c1(eW, i(eV), i(eX.lastIndex-d(eU, 0).length-1))), eT);eV=eX.lastIndex;const eY=globalThis.document.createElement("span");eY.setAttribute("ws-replace", d(eU, 1).toLowerCase());eT.parentNode.insertBefore(eY, eT);} eX.lastIndex=0;eT.textContent=c1(eW, i(eV), null);}
function cU(eT){ console.warn("Instantiating non-loaded template", eT);}
function cV(eT, eU, eV){ const eW=eT.querySelector("[ws-replace]");return bO(eW, null)?(console.warn("Filling non-existent text hole", eV),null):(eW.parentNode.replaceChild(globalThis.document.createTextNode(eU), eW),i(eW.getAttribute("ws-replace")));}
function cW(eT, eU){ const eV=(eW) => { W(eT, "["+eW+"]", (eX) => { if(!eU.Contains(eX.getAttribute(eW)))eX.removeAttribute(eW);});};eV("ws-attr");eV("ws-onafterrender");eV("ws-var");W(eT, "[ws-hole]", (eW) => { if(!eU.Contains(eW.getAttribute("ws-hole"))){ eW.removeAttribute("ws-hole");while(eW.hasChildNodes())eW.removeChild(eW.lastChild);} });W(eT, "[ws-replace]", (eW) => { if(!eU.Contains(eW.getAttribute("ws-replace")))eW.parentNode.removeChild(eW);});W(eT, "[ws-on]", (eW) => { eW.setAttribute("ws-on", dj(" ", bE((eX) => eU.Contains(d(dk(eX, [":"], 1), 1)), dk(eW.getAttribute("ws-on"), [" "], 1))));});W(eT, "[ws-attr-holes]", (eW) => { const eX=dk(eW.getAttribute("ws-attr-holes"), [" "], 1);for(let e1=0, e2=eX.length-1;e1<=e2;e1++){ const eY=d(eX, e1);let eZ=new RegExp(Y(), "g");let e0=eW.getAttribute(eY).replace(eZ, (e3, e4) => eU.Contains(e4)?e3:"");eW.setAttribute(eY, e0);} });}
function cX(eT, eU){ c0(eU);const eV=eU.nodeName.toLowerCase();const eW=eT.querySelector("[ws-attr="+eV+"]");if(bO(eW, null))console.warn("Filling non-existent attr hole", eV);else { eW.removeAttribute("ws-attr");for(let eY=0, eZ=eU.attributes.length-1;eY<=eZ;eY++){ const eX=eU.attributes.item(eY);if(eX.name=="class"&&eW.hasAttribute("class"))eW.setAttribute("class", eW.getAttribute("class")+" "+eX.nodeValue);else eW.setAttribute(eX.name, eX.nodeValue);} } }
function cY(eT, eU){ const eV=(eW) => { W(eT, "["+eW+"]", (eX) => { let eY;const eZ=(eY=null,[eU.TryGetValue(eX.getAttribute(eW).toLowerCase(), {get:() => eY, set:(e0) => { eY=e0;}}), eY]);if(eZ[0])eX.setAttribute(eW, eZ[1]);});};eV("ws-hole");eV("ws-replace");eV("ws-attr");eV("ws-onafterrender");eV("ws-var");W(eT, "[ws-on]", (eW) => { eW.setAttribute("ws-on", dj(" ", bF((eX) => { let eY;const eZ=dk(eX, [":"], 1);const e0=(eY=null,[eU.TryGetValue(d(eZ, 1), {get:() => eY, set:(e1) => { eY=e1;}}), eY]);return e0[0]?d(eZ, 0)+":"+e0[1]:eX;}, dk(eW.getAttribute("ws-on"), [" "], 1))));});W(eT, "[ws-attr-holes]", (eW) => { const eX=dk(eW.getAttribute("ws-attr-holes"), [" "], 1);for(let eY=0, eZ=eX.length-1;eY<=eZ;eY++)((() => { const e0=d(eX, eY);return eW.setAttribute(e0, z((e1, e2) => { const e3=m(e2);return e1.replace(new RegExp("\\${"+e3[0]+"}", "ig"), "${"+e3[1]+"}");}, eW.getAttribute(e0), eU));})());});}
function cZ(eT, eU, eV){ while(true){ if(eT.hasChildNodes())eV=eU.insertBefore(eT.lastChild, eV);else return null;} }
function c0(eT){ const eU=eT.attributes;const eV=[];const eW=[];const eX=[];for(let e2=0, e3=eU.length-1;e2<=e3;e2++){ const eY=eU.item(e2);if(dl(eY.nodeName, "ws-on")&&eY.nodeName!="ws-onafterrender"&&eY.nodeName!="ws-on"){ eV.push(eY.nodeName);eW.push(c1(eY.nodeName, i("ws-on".length), null)+":"+eY.nodeValue.toLowerCase());} else if(!dl(eY.nodeName, "ws-")&&(new RegExp(Y())).test(eY.nodeValue)){ let eZ=new RegExp(Y(), "g");let e0=eY.nodeValue.replace(eZ, (e4, e5) =>"${"+e5.toLowerCase()+"}");eY.nodeValue=e0;eX.push(eY.nodeName);} else void 0;} if(!(eW.length==0))eT.setAttribute("ws-on", dj(" ", eW));if(!(eX.length==0))eT.setAttribute("ws-attr-holes", dj(" ", eX));const e1=(e4) => { const e5=eT.getAttribute(e4);if(e5==null){ } else eT.setAttribute(e4, e5.toLowerCase());};e1("ws-hole");e1("ws-replace");e1("ws-attr");e1("ws-onafterrender");e1("ws-var");bG((e4) => { eT.removeAttribute(e4);}, eV);}
function c1(eT, eU, eV){ if(eU==null){ if(eV!=null&&eV.$==1){ const eW=eV.$0;return eW<0?"":eT.slice(0, eW+1);} else return"";} else if(eV==null)return eT.slice(eU.$0);else { const eX=eV.$0;return eX<0?"":eT.slice(eU.$0, eX+1);} }
function c2(){ return l("The input sequence has an insufficient number of elements.");}
function c3(eT, eU){ let eV=true;let eW=0;while(eV&&eW<e(eU))if(bO(eU[eW], eT))eV=false;else eW=eW+1;return!eV;}
function c4(){ return l("The input must be non-negative.");}
class c5 extends j { d;GetEnumerator(){ return ca(C((eT) => eT.K, this.d));} constructor(eT){ super();this.d=eT;} }
function c6(){ return dK();}
function c7(eT){ const eU=null;return dz(() => dA(c9(() => { }, dL(eT)), () => { dM(eT);return dD(null);}));}
function c8(eT, eU){ return c_(ee(eT.$0, eU.$0));}
function c9(eT, eU){ const eV=eU.Duration;if(eV===0)return dB();else { const eW=(eX) => { function eY(eZ){ return(e0) => { const e1=e0-eZ;eU.Compute(e1);eT();return e1<=eV?void requestAnimationFrame((e2) => {(eY(eZ))(e2);}):eX();};} requestAnimationFrame((eZ) => {(eY(eZ))(eZ);});};return dI((eX, eY, eZ) => eW.apply(null, [eX, eY, eZ]));} }
function c_(eT){ return{$:0, $0:eT};}
function c$(eT){ return c_(eg(C(dO, eT)));}
function da(){ return dS.BatchUpdatesEnabled;}
function db(eT){ const eU=[0];function eV(){ const eW=null;return dz(() => dA(eT, () => { const eX=eU[0];return bO(eX, 1)?(eU[0]=0,dB()):bO(eX, 2)?(eU[0]=1,eV()):dB();}));} return() => { const eW=eU[0];if(bO(eW, 0)){ eU[0]=1;dC(eV(), null);} else bO(eW, 1)?eU[0]=2:void 0;};}
function dc(eT, eU, eV, eW){ const eX={DynElem:eT, DynFlags:eU, DynNodes:eV};eR(eX, "OnAfterRender", eW);return eX;}
function dd(){ de(df()+1);return df();}
function de(eT){ ei.counter=eT;}
function df(){ return ei.counter;}
let dg=eP((eT) => class eU { static { dg=eT(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(e$) =>[(fa) => { fa.addEventListener("change", () => e$.Get()!=fa.checked?e$.Set(fa.checked):null);}, (fa) =>(fb) => fb!=null&&fb.$==1?void(fa.checked=fb.$0):null, u0034(i, e$.View)];this.StringSet=(e$) =>(fa) => { e$.value=fa;};this.StringGet=(e$) => i(e$.value);const eV=dV();const eW=dU();this.StringApply=(e$) => dT(eV, eW, e$);this.StringListSet=(e$) =>(fa) => { const fb=e$.options;for(let fc=0, fd=fb.length-1;fc<=fd;fc++)((() => { const fe=fb.item(fc);fe.selected=c3(fe.value, fa);})());};this.StringListGet=(e$) => { const fa=e$.selectedOptions;return i(bB(A(() => B((fb) =>[fa.item(fb).value], n(0, fa.length-1)))));};const eX=dX();const eY=dW();this.StringListApply=(e$) => dT(eX, eY, e$);this.DateTimeSetUnchecked=(e$) =>(fa) => { e$.value=(new Date(fa)).toLocaleString();};this.DateTimeGetUnchecked=(e$) => { let fa;let fb;const fc=e$.value;if(d$(fc))return i(-8640000000000000);else { fa=0;const fd=ek(fc);let fe=fd!=null&&fd.$==1&&(fa=fd.$0,true);fb=[fe, fa];return fb[0]?i(fb[1]):null;} };const eZ=dZ();const e0=dY();this.DateTimeApplyUnchecked=(e$) => dT(eZ, e0, e$);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(e$) => { const fa=e$.files;return i(bB(A(() => C((fb) => fa.item(fb), n(0, fa.length-1)))));};const e1=d2();const e2=d1();this.FileApplyUnchecked=(e$) => d0(e1, e2, e$);this.IntSetUnchecked=(e$) =>(fa) => { e$.value=String(fa);};this.IntGetUnchecked=(e$) => { const fa=e$.value;if(d$(fa))return i(0);else { const fb=+fa;return fb!==fb>>0?null:i(fb);} };const e3=d4();const e4=d3();this.IntApplyUnchecked=(e$) => dT(e3, e4, e$);this.IntSetChecked=(e$) =>(fa) => { const fb=fa.Input;return e$.value!=fb?void(e$.value=fb):null;};this.IntGetChecked=(e$) => { let fa;let fb;const fc=e$.value;if(d$(fc))fa=(e$.checkValidity?e$.checkValidity():true)?ea.Blank(fc):ea.Invalid(fc);else { const fd=(fb=0,[b8(fc, {get:() => fb, set:(fe) => { fb=fe;}}), fb]);fa=fd[0]?ea.Valid(fd[1], fc):ea.Invalid(fc);} return i(fa);};const e5=d6();const e6=d5();this.IntApplyChecked=(e$) => dT(e5, e6, e$);this.FloatSetUnchecked=(e$) =>(fa) => { e$.value=String(fa);};this.FloatGetUnchecked=(e$) => { const fa=e$.value;if(d$(fa))return i(0);else { const fb=+fa;return isNaN(fb)?null:i(fb);} };const e7=d8();const e8=d7();this.FloatApplyUnchecked=(e$) => dT(e7, e8, e$);this.FloatSetChecked=(e$) =>(fa) => { const fb=fa.Input;return e$.value!=fb?void(e$.value=fb):null;};this.FloatGetChecked=(e$) => { let fa;const fb=e$.value;if(d$(fb))fa=(e$.checkValidity?e$.checkValidity():true)?ea.Blank(fb):ea.Invalid(fb);else { const fc=+fb;fa=isNaN(fc)?ea.Invalid(fb):ea.Valid(fc, fb);} return i(fa);};const e9=d_();const e_=d9();this.FloatApplyChecked=(e$) => dT(e9, e_, e$);} });
class dh extends j { s;c;n;d;e;MoveNext(){ const eT=this.n(this);this.e=eT?1:2;return eT;} get Current(){ return this.e===1?this.c:this.e===0?l("Enumeration has not started. Call MoveNext."):l("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(eT, eU, eV, eW){ super();this.s=eT;this.c=eU;this.n=eV;this.d=eW;this.e=0;} }
let di=eP((eT) => class eU extends j { static { di=eT(this);} static Create_1(eV){ return new eb(false, {s:b_(eV, [])}, eV);} static { } });
function dj(eT, eU){ return bB(eU).join(eT);}
function dk(eT, eU, eV){ return dm(eT, new RegExp("["+dn(eU.join(""))+"]"), eV);}
function dl(eT, eU){ return eT.substring(0, eU.length)==eU;}
function dm(eT, eU, eV){ return eV===1?bE((eW) => eW!=="", dp(eT, eU)):dp(eT, eU);}
function dn(eT){ return eT.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function do_1(eT, eU){ return H(eT, dq(eU));}
function dp(eT, eU){ return eT.split(eU);}
function dq(eT){ return eT==null?"":eT;}
function dr(eT, eU){ return{PreviousNodes:eT, Top:eU};}
function ds(){ return du(new cg("New_3"));}
function dt(eT){ const eU=[];function eV(eY, eZ){ while(true)switch(eY){ case 0:if(eZ!=null&&eZ.$==0){ const e0=eZ.$1;const e1=eZ.$0;eV(0, e1);eZ=e0;} else if(eZ!=null&&eZ.$==1){ const e2=eZ.$0;eZ=e2;eY=1;} else if(eZ!=null&&eZ.$==2){ const e3=eZ.$0;eZ=e3.Current;} else if(eZ!=null&&eZ.$==6){ const e4=eZ.$0.Holes;return(((e5) =>(e6) => { bG(e5, e6);})(eX))(e4);} else return null;break;case 1:eU.push(eZ);eZ=eZ.Children;eY=0;break;} } function eW(eY){ return eV(0, eY);} function eX(eY){ return eV(1, eY);} eW(eT);return du(new cg("New_2", eU));}
function du(eT){ return{$:0, $0:eT};}
function dv(eT, eU){ return du(ew(eT, eU.$0));}
function dw(eT, eU){ return du(ex(eT.$0, eU.$0));}
function dx(eT){ return ey(eT.$0);}
function dy(eT, eU){ return du(ez(eT.$0, eU.$0));}
function dz(eT){ return(eU) => { try {(eT())(eU);} catch(eV){ eU.k(er(eV));} };}
function dA(eT, eU){ return dF((eV) => { eT(eq((eW) => { if(eW.$==0){ const eX=eW.$0;dE().Fork(() => { try {(eU(eX))(eV);} catch(eY){ eV.k(er(eY));} });} else dE().Fork(() => { eV.k(eW);});}, eV.ct));});}
function dB(){ return eu.Zero;}
function dC(eT, eU){ const eV=(dG())[0];const eW=eU==null?eV:eU.$0;dE().Fork(() => { if(!eW.c)eT(eq((eX) => { if(eX.$==1)dH(eX.$0);}, eW));});}
function dD(eT){ return(eU) => { eU.k(es(eT));};}
function dE(){ return eu.scheduler;}
function dF(eT){ return(eU) => { if(eU.ct.c)dJ(eU);else eT(eU);};}
function dG(){ return eu.defCTS;}
function dH(eT){ console.log("WebSharper: Uncaught asynchronous exception", eT);}
function dI(eT){ return(eU) => { const eV=[false];const eW=(eX) => { if(eV[0])l("A continuation provided by Async.FromContinuations was invoked multiple times");else { eV[0]=true;dE().Fork(eX);} };eT((eX) => { eW(() => { eU.k(es(eX));});}, (eX) => { eW(() => { eU.k(er(eX));});}, (eX) => { eW(() => { eU.k(et(eX));});});};}
function dJ(eT){ eT.k(et(new eH("New", eT.ct)));}
function dK(){ return ed.UseAnimations;}
function dL(eT){ return dN(bK((eU) => eU.$==1?i(eU.$0):null, ef(eT.$0)));}
function dM(eT){ bG((eU) => { if(eU.$==0)eU.$0();}, ef(eT.$0));}
function dN(eT){ const eU=b4(eT);const eV=e(eU);if(eV===0)return dP();else if(eV===1)return d(eU, 0);else { const eW=I(C((eY) => eY.Duration, eU));const eX=bF((eY) => dR(eW, eY), eU);return dQ(eW, (eY) => { bG((eZ) => { eZ.Compute(eY);}, eX);});} }
function dO(eT){ return eT.$0;}
function dP(eT){ return dQ(0, () => eT);}
function dQ(eT, eU){ return{Compute:eU, Duration:eT};}
function dR(eT, eU){ const eV=eU.Compute;const eW=eU.Duration;const eX=eI(() => eU.Compute(eU.Duration));return{Compute:(eY) => eY>=eW?eX.f():eV(eY), Duration:eT};}
let dS=eP((eT) => class eU { static { dS=eT(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function dT(eT, eU, eV){ let eW;eW=null;return[(eX) => { const eY=() => { eV.UpdateMaybe((eZ) => { let e0;eW=eT(eX);return eW!=null&&eW.$==1&&(!bO(eW.$0, eZ)&&(e0=[eW, eW.$0],true))?e0[0]:null;});};eX.addEventListener("change", eY);eX.addEventListener("input", eY);eX.addEventListener("keypress", eY);}, (eX) => { const eY=eU(eX);return(eZ) => eZ==null?null:eY(eZ.$0);}, u0034((eX) => { let eY;return eW!=null&&eW.$==1&&(bO(eW.$0, eX)&&(eY=eW.$0,true))?null:i(eX);}, eV.View)];}
function dU(){ return dg.StringSet;}
function dV(){ return dg.StringGet;}
function dW(){ return dg.StringListSet;}
function dX(){ return dg.StringListGet;}
function dY(){ return dg.DateTimeSetUnchecked;}
function dZ(){ return dg.DateTimeGetUnchecked;}
function d0(eT, eU, eV){ let eW;eW=null;return[(eX) => { eX.addEventListener("change", () => { eV.UpdateMaybe((eY) => { let eZ;eW=eT(eX);return eW!=null&&eW.$==1&&(eW.$0!==eY&&(eZ=[eW, eW.$0],true))?eZ[0]:null;});});}, (eX) => { const eY=eU(eX);return(eZ) => eZ==null?null:eY(eZ.$0);}, u0034((eX) => { let eY;return eW!=null&&eW.$==1&&(bO(eW.$0, eX)&&(eY=eW.$0,true))?null:i(eX);}, eV.View)];}
function d1(){ return dg.FileSetUnchecked;}
function d2(){ return dg.FileGetUnchecked;}
function d3(){ return dg.IntSetUnchecked;}
function d4(){ return dg.IntGetUnchecked;}
function d5(){ return dg.IntSetChecked;}
function d6(){ return dg.IntGetChecked;}
function d7(){ return dg.FloatSetUnchecked;}
function d8(){ return dg.FloatGetUnchecked;}
function d9(){ return dg.FloatSetChecked;}
function d_(){ return dg.FloatGetChecked;}
function d$(eT){ return do_1(ej, eT);}
class ea { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(eT){ return eO(ea, {$:2, $0:eT});} static Invalid(eT){ return eO(ea, {$:1, $0:eT});} static Valid(eT, eU){ return eO(ea, {$:0, $0:eT, $1:eU});} }
class eb extends v { isConst;current;snap;view;id;Set(eT){ if(this.isConst)(((eU) => eU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((eU) => { console.log(eU);}));else { bj(this.snap);this.current=eT;this.snap={s:b_(eT, [])};} } Get(){ return this.current;} get View(){ return this.view;} UpdateMaybe(eT){ const eU=eT(this.Get());if(eU!=null&&eU.$==1)this.Set(eU.$0);} constructor(eT, eU, eV){ super();this.isConst=eT;this.current=eV;this.snap=eU;this.view=() => this.snap;this.id=dd();} }
let ec=eP((eT) => class eU { static { ec=eT(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const eV=[1, "<table>", "</table>"];let eW=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", eV], ["tbody", eV], ["tfoot", eV], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=eW;this.defaultWrap=[0, "", ""];} });
let ed=eP((eT) => class eU { static { ed=eT(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=ep.Custom((eV) => { const eW=eV*eV;return 3*eW-2*(eW*eV);});this.UseAnimations=true;} });
function ee(eT, eU){ return eT.$==0?eU:eU.$==0?eT:{$:2, $0:eT, $1:eU};}
function ef(eT){ const eU=[];function eV(eW){ while(true){ if(eW.$==1)return eU.push(eW.$0);else if(eW.$==2){ const eX=eW.$1;const eY=eW.$0;eV(eY);eW=eX;} else return eW.$==3?bG((eZ) => { eU.push(eZ);}, eW.$0):null;} } eV(eT);return eU.slice(0);}
function eg(eT){ const eU=b4(eT);return b5(eh(), ee, eU);}
function eh(){ return eL.Empty;}
let ei=eP((eT) => class eU { static { ei=eT(this);} static counter;static { this.counter=0;} });
function ej(eT){ return eT.match(new RegExp("\\s"))!==null;}
function ek(eT){ const eU=Date.parse(eT);return isNaN(eU)?null:i(eU);}
function el(eT, eU, eV, eW){ const eX=+eT;const eY=eX===eX-eX%1&&eX>=eU&&eX<=eV;if(eY)eW.set(eX);return eY;}
function em(eT){ let eU=[];let eV;for(var eW in eT)eU.push.apply(eU, eT[eW]);return eU;}
class en extends Error { static New(){ return new this("New");} static New_1(eT){ return new this("New_1", eT);} constructor(eT, eU){ if(eT=="New"){ eT="New_1";eU="The given key was not present in the dictionary.";} if(eT=="New_1"){ const eV=eU;super(eV);} } }
class eo extends j { idle;robin;Fork(eT){ this.robin.push(eT);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const eT=Date.now();let eU=true;while(eU)if(this.robin.length===0){ this.idle=true;eU=false;} else {(this.robin.shift())();Date.now()-eT>40?(setTimeout(() => { this.tick();}, 0),eU=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class ep extends j { transformTime;static Custom(eT){ return new ep(eT);} constructor(eT){ super();this.transformTime=eT;} }
function eq(eT, eU){ return{k:eT, ct:eU};}
function er(eT){ return{$:1, $0:eT};}
function es(eT){ return{$:0, $0:eT};}
function et(eT){ return{$:2, $0:eT};}
let eu=eP((eT) => class eU { static { eu=eT(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=ev(false, []);this.scheduler=new eo();this.defCTS=[new eA()];this.Zero=dD();this.GetCT=(eV) => { eV.k(es(eV.ct));};} });
function ev(eT, eU){ return{c:eT, r:eU};}
function ew(eT, eU){ return new cg("New_2", bE(eT, ey(eU)));}
function ex(eT, eU){ const eV=new cg("New_2", ey(eU));eV.ExceptWith(ey(eT));return eV;}
function ey(eT){ const eU=bL(eT.Count, void 0);eT.CopyTo(eU, 0);return eU;}
function ez(eT, eU){ const eV=new cg("New_2", ey(eT));eV.IntersectWith(ey(eU));return eV;}
class eA extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function eB(eT, eU){ let eV;if(eU!=null&&eU.$==1){ const eW=[];eV=eU.$0[0].nextSibling;while(eV!==eU.$0[1]){ eW.push(eV);eV=eV.nextSibling;} return eF(eW);} else { let eX=eT.childNodes.length;const eY=eT.childNodes;let eZ=bM(eX, (e0) => eY[e0]);return eF(eZ);} }
function eC(eT, eU){ const eV=eT.$0;return eF(bE((eW) => bN((eX) =>!(eW===eX), eV), eU.$0));}
function eD(eT, eU){ bG(eT, eU.$0);}
function eE(eT){ const eU=[];function eV(eW){ while(true){ if(eW!=null&&eW.$==2){ const eX=eW.$0;eW=eX.Current;} else if(eW!=null&&eW.$==1)return eU.push(eW.$0.El);else if(eW==null)return null;else if(eW!=null&&eW.$==5)return eU.push(eW.$0);else if(eW!=null&&eW.$==4)return eU.push(eW.$0.Text);else if(eW!=null&&eW.$==6){ const eY=eW.$0.Els;return(((e1) =>(e2) => { bG(e1, e2);})((e1) => { if(e1==null||e1.constructor===Object)eV(e1);else eU.push(e1);}))(eY);} else { const eZ=eW.$1;const e0=eW.$0;eV(e0);eW=eZ;} } } eV(eT.Children);return eF(b4(eU));}
function eF(eT){ return{$:0, $0:eT};}
function eG(eT){ eT.splice(0, e(eT));}
class eH extends Error { ct;static New(eT){ return new this("New", eT);} static New_1(eT, eU, eV){ return new this("New_1", eT, eU, eV);} constructor(eT, eU, eV, eW){ let eX;if(eT=="New"){ eX=eU;eT="New_1";eU="The operation was canceled.";eV=null;eW=eX;} if(eT=="New_1"){ const eY=eU;const eZ=eV;const e0=eW;super(eY);this.inner=eZ;this.ct=e0;} } }
function eI(eT){ return eM(false, eT, eJ);}
function eJ(){ const eT=this.v();this.c=true;this.v=eT;this.f=eK;return eT;}
function eK(){ return this.v;}
let eL=eP((eT) => class eU { static { eL=eT(this);} static Empty;static { this.Empty={$:0};} });
function eM(eT, eU, eV){ return{c:eT, v:eU, f:eV};}
eS(() => { b();});
eN();

