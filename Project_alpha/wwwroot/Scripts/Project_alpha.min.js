import { Start as e8 } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Create as e9, Lazy as e_, GetOptional as e$, SetOptional as fa, OnLoad as fb } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fc){ return"Dispose"in fc;}
function b(){ const fc=globalThis.document.getElementById("drop");const fd=globalThis.document.getElementById("myFile");const fe=globalThis.document.getElementById("mergeBtn");const ff=globalThis.document.getElementById("result");let fg=null;const fh=(fk) => { fk.preventDefault();fk.stopPropagation();};const fi=(fk) => { fg=i(fk);c().Clear();for(let fm=0, fn=fk.length-1;fm<=fn;fm++){ const fl=fk.item(fm);c().Append(fl.name);} };fc.addEventListener("dragover", fh);fc.addEventListener("dragenter", fh);fc.addEventListener("drop", (fk) => { fh(fk);return fi(fk.dataTransfer.files);});fd.addEventListener("change", () => fi(fd.files));fe.addEventListener("click", () => { let fk;if(fg!=null&&fg.$==1&&(fg.$0.length>0&&(fk=fg.$0,true))){ const fl=Z(G(() => H((fn) => { const fo=null;return u0037(() => { const fp=fk.item(fn);return u0038(V(fp.arrayBuffer()), (fq) => { const fr=new Uint8Array(fq);const fs=q(fr.length, (ft) => fr[ft]);return bb([fp.name, fs]);});});}, l(0, fk.length-1))));const fm=null;return ba(u0037(() => { ff.innerText="Merging PDFs, please wait...";return u0038(u0039(fl), (fn) => u0038(p(Y(fn)), (fo) => { let fp;const fq=URL.createObjectURL(new Blob([new Uint8Array(fo)], (fp={},fp.type="application/pdf",fp)));const fr=globalThis.document.createElement("a");fr.setAttribute("href", fq);fr.setAttribute("download", "merged.pdf");fr.style.display="none";globalThis.document.body.appendChild(fr);fr.click();URL.revokeObjectURL(fq);globalThis.document.body.removeChild(fr);ff.innerText="PDFs merged successfully!";return $();}));}), null);} else { ff.innerText="Please select PDF files first.";return;} });const fj=X.Convert((fk) => X.Element("div", u0034.Empty, Y([X.TextNode(fk)])), c().v);bt("");X.RunById("fdisplay", fj);return X.Empty;}
function c(){ return u0036.UploadedFiles;}
function d(fc, fd){ g(fc, fd);return fc[fd];}
function e(fc, fd, fe){ g(fc, fd);fc[fd]=fe;}
function f(fc){ return fc.dims===2?fc.length*fc.length:fc.length;}
function g(fc, fd){ if(fd<0||fd>=fc.length)m("Index was outside the bounds of the array.");}
function h(fc){ let fd=[];let fe;for(var ff in fc)fd.push(fc[ff]);return fd;}
function i(fc){ return{$:1, $0:fc};}
class j { Equals(fc){ return this===fc;} GetHashCode(){ return -1;} }
class k extends j { key;u0076ar;storage;v;it;Clear(){ this.u0076ar.Set(this.storage.SSet([]));this.ObsoleteAll();} ObsoleteAll(){ J((fc) => { b1(fc.V);}, this.it);this.it.Clear();} Append(fc){ const fd=this.u0076ar.Get();const fe=this.key(fc);const ff=r((fg) => cf(this.key(fg), fe), fd);if(ff!=null&&ff.$==1)this.u0076ar.Set(this.storage.SSetAt(ff.$0, fc, fd));else this.u0076ar.Set(this.storage.SAppend(fc, fd));this.ObsoleteKey(fe);} ObsoleteKey(fc){ let fd;const fe=(fd=null,[this.it.TryGetValue(fc, {get:() => fd, set:(ff) => { fd=ff;}}), fd]);if(fe[0]){ b1(fe[1]);this.it.RemoveKey(fc);} } GetEnumerator(){ return bo(this.u0076ar.Get());} GetEnumerator0(){ return br(this.u0076ar.Get());} static New(fc, fd){ return new this("New", fc, fd);} static New_3(fc, fd, fe){ return new this("New_3", fc, fd, fe);} constructor(fc, fd, fe, ff){ let fg;let fh;if(fc=="New"){ fg=fd;fh=fe;fc="New_3";fd=fg;fe=dV.Create_1(s(N(fg, fh.SInit())));ff=fh;} if(fc=="New_3"){ const fi=fd;const fj=fe;const fk=ff;super();this.key=fi;this.u0076ar=fj;this.storage=fk;this.v=bL((fl) => fl.slice(), this.u0076ar.View);this.it=new b0("New_5");} } }
function l(fc, fd){ const fe=1+fd-fc;return fe<=0?[]:I(fe, (ff) => ff+fc);}
function m(fc){ throw new Error(fc);}
function n(fc){ return[fc.K, fc.V];}
function o(fc){ const fd={};const fe=bo(fc);try { while(fe.MoveNext()){ const ff=fe.Current;fd[ff[0]]=ff[1];} } finally { if(typeof fe=="object"&&a(fe))fe.Dispose();} return fd;}
function p(fc){ return u0038((new bl()).Async("PdfMerger/MergePdfs", [((bm(bn()))())(fc)]), (fd) => bb(fd));}
function q(fc, fd){ if(fc<0)m("Negative size given.");else null;const fe=new Array(fc);for(let ff=0, fg=fc-1;ff<=fg;ff++)fe[ff]=fd(ff);return fe;}
function r(fc, fd){ let fe=null;let ff=0;while(ff<fd.length&&fe==null){ fc(fd[ff])?fe=i(ff):void 0;ff=ff+1;} return fe;}
function s(fc){ if(fc instanceof Array)return fc.slice();else if(fc instanceof u0034)return t(fc);else { const fd=[];const fe=bo(fc);try { while(fe.MoveNext())fd.push(fe.Current);return fd;} finally { if(typeof fe=="object"&&a(fe))fe.Dispose();} } }
function t(fc){ const fd=[];let fe=fc;while(!(fe.$==0)){ fd.push(u0031(fe));fe=u0032(fe);} return fd;}
function u(fc, fd){ let fe=null;let ff=0;while(ff<fd.length&&fe==null){ const fg=fc(fd[ff]);if(fg!=null&&fg.$==1)fe=fg;ff=ff+1;} return fe;}
function v(fc, fd){ let fe=false;let ff=0;while(!fe&&ff<f(fd))if(fc(fd[ff]))fe=true;else ff=ff+1;return fe;}
function w(fc){ return Array.prototype.concat.apply([], s(fc));}
function x(fc, fd){ const fe=[];for(let ff=0, fg=fd.length-1;ff<=fg;ff++)if(fc(fd[ff]))fe.push(fd[ff]);return fe;}
function y(fc, fd){ const fe=new Array(fd.length);for(let ff=0, fg=fd.length-1;ff<=fg;ff++)fe[ff]=fc(fd[ff]);return fe;}
function z(fc, fd){ for(let fe=0, ff=fd.length-1;fe<=ff;fe++)fc(fd[fe]);}
function A(fc, fd, fe){ let ff=fe;const fg=fd.length;for(let fh=1, fi=fg;fh<=fi;fh++)ff=fc(fd[fg-fh], ff);return ff;}
function B(fc, fd){ return s(N(fc, fd));}
function C(fc, fd){ const fe=u(fc, fd);return fe==null?m("KeyNotFoundException"):fe.$0;}
function D(fc, fd){ const fe=[];for(let fg=0, fh=fd.length-1;fg<=fh;fg++){ const ff=fc(fd[fg]);if(ff==null){ } else fe.push(ff.$0);} return fe;}
function E(fc, fd){ const fe=new Array(fc);for(let ff=0, fg=fc-1;ff<=fg;ff++)fe[ff]=fd;return fe;}
function F(fc, fd){ let fe=true;let ff=0;while(fe&&ff<f(fd))if(fc(fd[ff]))ff=ff+1;else fe=false;return fe;}
function G(fc){ return{GetEnumerator:() => bo(fc())};}
function H(fc, fd){ return{GetEnumerator:() => { const fe=bo(fd);return new bs(null, null, (ff) => fe.MoveNext()&&(ff.c=fc(fe.Current),true), () => { fe.Dispose();});}};}
function I(fc, fd){ return K(fc, L(fd));}
function J(fc, fd){ const fe=bo(fd);try { while(fe.MoveNext())fc(fe.Current);} finally { if(typeof fe=="object"&&a(fe))fe.Dispose();} }
function K(fc, fd){ fc<0?cO():void 0;return{GetEnumerator:() => { const fe=[bo(fd)];return new bs(0, null, (ff) => { ff.s=ff.s+1;if(ff.s>fc)return false;else { const fg=fe[0];return cf(fg, null)?cP():fg.MoveNext()?(ff.c=fg.Current,ff.s===fc?(fg.Dispose(),fe[0]=null):void 0,true):(fg.Dispose(),fe[0]=null,cP());} }, () => { const ff=fe[0];if(!cf(ff, null))ff.Dispose();});}};}
function L(fc){ return{GetEnumerator:() => new bs(0, null, (fd) => { fd.c=fc(fd.s);fd.s=fd.s+1;return true;}, void 0)};}
function M(fc){ const fd=bo(fc);try { return fd.MoveNext()?fd.Current:cP();} finally { if(typeof fd=="object"&&a(fd))fd.Dispose();} }
function N(fc, fd){ return{GetEnumerator:() => { const fe=bo(fd);const ff=new cS("New_3");return new bs(null, null, (fg) => { let fh;let fi;if(fe.MoveNext()){ fh=fe.Current;fi=ff.SAdd(fc(fh));while(!fi&&fe.MoveNext()){ fh=fe.Current;fi=ff.SAdd(fc(fh));} return fi&&(fg.c=fh,true);} else return false;}, () => { fe.Dispose();});}};}
function O(fc, fd, fe){ let ff=fd;const fg=bo(fe);try { while(fg.MoveNext())ff=fc(ff, fg.Current);return ff;} finally { if(typeof fg=="object"&&a(fg))fg.Dispose();} }
function P(fc, fd){ return Q(H(fc, fd));}
function Q(fc){ return{GetEnumerator:() => { const fd=bo(fc);function fe(ff){ while(true){ const fg=ff.s;if(cf(fg, null)){ if(fd.MoveNext()){ ff.s=bo(fd.Current);ff=ff;} else { fd.Dispose();return false;} } else if(fg.MoveNext()){ ff.c=fg.Current;return true;} else { ff.Dispose();ff.s=null;ff=ff;} } } return new bs(null, null, fe, (ff) => { const fg=ff.s;if(!cf(fg, null))fg.Dispose();if(!cf(fd, null))fd.Dispose();});}};}
function R(fc, fd){ return!T((fe) =>!fc(fe), fd);}
function S(fc){ const fd=bo(fc);try { if(!fd.MoveNext())U();let fe=fd.Current;while(fd.MoveNext()){ const ff=fd.Current;if(cn(ff, fe)===1)fe=ff;} return fe;} finally { if(typeof fd=="object"&&a(fd))fd.Dispose();} }
function T(fc, fd){ const fe=bo(fd);try { let ff=false;while(!ff&&fe.MoveNext())ff=fc(fe.Current);return ff;} finally { if(typeof fe=="object"&&a(fe))fe.Dispose();} }
function U(){ return m("The input sequence was empty.");}
function V(fc){ return bf((fd, fe) => { fc.then(fd, (ff) => fe(W(ff)));});}
function W(fc){ return fc instanceof Error?fc:new cx(fc);}
class X extends j { docNode;updates;static get Empty(){ return X.Mk(null, bG());} static Element(fc, fd, fe){ const ff=bY.Concat(fd);const fg=X.Concat(fe);return cC.New(globalThis.document.createElement(fc), ff, fg);} static RunById(fc, fd){ const fe=globalThis.document.getElementById(fc);if(cf(fe, null))m("invalid id: "+fc);else X.Run(fe, fd);} static Mk(fc, fd){ return new X(fc, fd);} static Concat(fc){ return cE(X.Empty, X.Append, cD(fc));} static TextNode(fc){ return X.Mk(cy(globalThis.document.createTextNode(fc)), bG());} static Run(fc, fd){ cT(fc, fd.docNode);X.RunInPlace(false, fc, fd);} static Convert(fc, fd){ return X.Flatten(bH(fc, fd));} static Append(fc, fd){ return X.Mk(cA(fc.docNode, fd.docNode), bI(fc.updates, fd.updates));} static RunInPlace(fc, fd, fe){ const ff=cW(fd, fe.docNode);bJ(dD()||dJ()?dK(cX(fc, ff, fe.docNode)):() => { cY(fc, ff, fe.docNode);}, fe.updates);} static Flatten(fc){ return X.EmbedView(bL(X.Concat, fc));} static EmbedView(fc){ const fd=c5();return X.Mk(cB(fd), bL(() => { }, bN((fe) => { c6(fd, fe.docNode);return fe.updates;}, fc)));} constructor(fc, fd){ super();this.docNode=fc;this.updates=fd;} }
function Y(fc){ let fd=u0034.Empty;for(let fe=f(fc)-1, ff=0;fe>=ff;fe--)fd=u0034.Cons(d(fc, fe), fd);return fd;}
function Z(fc){ if(fc instanceof u0034)return fc;else if(fc instanceof Array)return Y(fc);else { const fd=bo(fc);try { let fe;let ff=fd.MoveNext();if(!ff)return u0034.Empty;else { const fg=e9(u0034, {$:1});fe=fg;while(ff){ fe.$0=fd.Current;if(fd.MoveNext()){ const fh=e9(u0034, {$:1});fe=(fe.$1=fh,fh);} else ff=false;} fe.$1=u0034.Empty;return fg;} } finally { if(typeof fd=="object"&&a(fd))fd.Dispose();} } }
function u0030(fc, fd){ let fe=fd;while(fe.$==1){ fc(u0031(fe));fe=u0032(fe);} }
function u0031(fc){ return fc.$==1?fc.$0:u0033();}
function u0032(fc){ return fc.$==1?fc.$1:u0033();}
function u0033(){ return m("The input list was empty.");}
class u0034 { static Empty=e9(u0034, {$:0});static Cons(fc, fd){ return e9(u0034, {$:1, $0:fc, $1:fd});} GetEnumerator(){ return new bs(this, null, (fc) => { const fd=fc.s;return fd.$==0?false:(fc.c=fd.$0,fc.s=fd.$1,true);}, void 0);} }
class u0035 extends j { }
let u0036=e_((fc) => class fd { static { u0036=fc(this);} static UploadedFiles;static { this.UploadedFiles=cd((fe) => fe, u0034.Empty);} });
function u0037(fc){ return(fd) => { try {(fc())(fd);} catch(fe){ fd.k(cr(fe));} };}
function u0038(fc, fd){ return bc((fe) => { fc(cq((ff) => { if(ff.$==0){ const fg=ff.$0;bh().Fork(() => { try {(fd(fg))(fe);} catch(fh){ fe.k(cr(fh));} });} else bh().Fork(() => { fe.k(ff);});}, fe.ct));});}
function u0039(fc){ const fd=s(fc);return f(fd)===0?bb([]):(fe) => { const ff=fd.length;const fg=[ff];const fh=new Array(ff);for(let fi=0, fj=ff-1;fi<=fj;fi++)(((fk) => bh().Fork(() => {(d(fd, fk))(cq((fl) => { let fm;const fn=fg[0];switch(fn===0?0:fn===1?fl.$==0?1:(fm=fl,3):fl.$==0?2:(fm=fl,3)){ case 0:return null;case 1:e(fh, fk, fl.$0);fg[0]=0;return fe.k(cs(fh));case 2:e(fh, fk, fl.$0);{ fg[0]=fn-1;return;} break;case 3:fg[0]=0;return fe.k(fm);} }, fe.ct));}))(fi));};}
function $(){ return cu.Zero;}
function ba(fc, fd){ const fe=(bd())[0];const ff=fd==null?fe:fd.$0;bh().Fork(() => { if(!ff.c)fc(cq((fg) => { if(fg.$==1)be(fg.$0);}, ff));});}
function bb(fc){ return(fd) => { fd.k(cs(fc));};}
function bc(fc){ return(fd) => { if(fd.ct.c)bg(fd);else fc(fd);};}
function bd(){ return cu.defCTS;}
function be(fc){ console.log("WebSharper: Uncaught asynchronous exception", fc);}
function bf(fc){ return(fd) => { const fe=[false];const ff=(fg) => { if(fe[0])m("A continuation provided by Async.FromContinuations was invoked multiple times");else { fe[0]=true;bh().Fork(fg);} };fc((fg) => { ff(() => { fd.k(cs(fg));});}, (fg) => { ff(() => { fd.k(cr(fg));});}, (fg) => { ff(() => { fd.k(ct(fg));});});};}
function bg(fc){ fc.k(ct(new dq("New", fc.ct)));}
function bh(){ return cu.scheduler;}
function bi(){ return cu.GetCT;}
function bj(fc, fd){ if(fc===bk())return{Dispose(){ return null;}};else { const fe=fc.r.push(fd)-1;return{Dispose(){ return e(fc.r, fe, () => { });}};} }
function bk(){ return cu.noneCT;}
class bl extends j { AsyncBase(fc, fd){ const fe=null;return u0037(() => { const ff=dS(this.Headers);const fg=dR(fd);return u0038(bi(), (fh) => u0038(bf((fi, fj, fk) => { const fl=[true];const fm=bj(fh, () => { if(fl[0]){ fl[0]=false;fk(new dq("New", fh));} });return dQ().Async(this.EndPoint+"/"+fc, ff, fg, (fn) => { if(fl[0]){ fl[0]=false;fm.Dispose();fi(fn);} }, (fn) => { if(fl[0]){ fl[0]=false;fm.Dispose();fj(fn);} });}), (fi) => bb(JSON.parse(fi))));});} get EndPoint(){ return dT();} get Headers(){ return[];} Async(fc, fd){ return this.AsyncBase(fc, fd);} }
function bm(fc){ return() =>(fd) => { const fe=[];const ff=fc();u0030((fg) => { fe.push(ff(fg));}, fd);return fe;};}
function bn(){ return() =>(fc) => fc;}
function bo(fc){ return fc instanceof Array?bp(fc):cf(typeof fc, "string")?bq(fc):fc.GetEnumerator();}
function bp(fc){ return new bs(0, null, (fd) => { const fe=fd.s;return fe<f(fc)&&(fd.c=d(fc, fe),fd.s=fe+1,true);}, void 0);}
function bq(fc){ return new bs(0, null, (fd) => { const fe=fd.s;return fe<fc.length&&(fd.c=fc[fe],fd.s=fe+1,true);}, void 0);}
function br(fc){ return fc instanceof Array?bp(fc):cf(typeof fc, "string")?bq(fc):"GetEnumerator0"in fc?fc.GetEnumerator0():fc.GetEnumerator();}
class bs extends j { s;c;n;d;e;Dispose(){ if(this.d)this.d(this);} MoveNext(){ const fc=this.n(this);this.e=fc?1:2;return fc;} get Current(){ return this.e===1?this.c:this.e===0?m("Enumeration has not started. Call MoveNext."):m("Enumeration already finished.");} constructor(fc, fd, fe, ff){ super();this.s=fc;this.c=fd;this.n=fe;this.d=ff;this.e=0;} }
function bt(fc){!bu()?(bv(true),bw(globalThis.document.body, "")):void 0;bx().set_Item(fc, by(""));}
function bu(){ return cR.LocalTemplatesLoaded;}
function bv(fc){ cR.LocalTemplatesLoaded=fc;}
function bw(fc, fd){ const fe=by(fd);const ff=new b0("New_5");const fg=fc.querySelectorAll("[ws-template]");for(let fs=0, ft=fg.length-1;fs<=ft;fs++){ const fh=fg[fs];const fi=fh.getAttribute("ws-template").toLowerCase();fh.removeAttribute("ws-template");ff.set_Item(fi, bz(fh));} const fj=fc.querySelectorAll("[ws-children-template]");for(let fu=0, fv=fj.length-1;fu<=fv;fu++){ const fk=fj[fu];const fl=fk.getAttribute("ws-children-template").toLowerCase();fk.removeAttribute("ws-children-template");ff.set_Item(fl, bA(fk));} const fm=fc.querySelectorAll("template[id]");for(let fw=0, fx=fm.length-1;fw<=fx;fw++){ const fn=fm[fw];ff.set_Item(fn.getAttribute("id").toLowerCase(), bB(fn));} const fo=fc.querySelectorAll("template[name]");for(let fy=0, fz=fo.length-1;fy<=fz;fy++){ const fp=fo[fy];ff.set_Item(fp.getAttribute("name").toLowerCase(), bB(fp));} const fq=new cS("New_3");function fr(fA){ if(!fe.ContainsKey(fA)){ let fB;const fC=(fB=null,[ff.TryGetValue(fA, {get:() => fB, set:(fD) => { fB=fD;}}), fB]);if(fC[0]){ fq.SAdd(fA);ff.RemoveKey(fA);bC(fd, i(fA), fC[1], i(fr));} else console.warn(fq.Contains(fA)?"Encountered loop when instantiating "+fA:"Local template does not exist: "+fA);} } while(ff.count>0)fr(M(ff.Keys));}
function bx(){ return cR.LoadedTemplates;}
function by(fc){ let fd;const fe=(fd=null,[bx().TryGetValue(fc, {get:() => fd, set:(fg) => { fd=fg;}}), fd]);if(fe[0])return fe[1];else { const ff=new b0("New_5");bx().set_Item(fc, ff);return ff;} }
function bz(fc){ fc.removeAttribute("ws-template");const fd=fc.getAttribute("ws-replace");if(fd==null){ } else { fc.removeAttribute("ws-replace");const fe=fc.parentNode;if(cf(fe, null)){ } else { const ff=globalThis.document.createElement(fc.tagName);ff.setAttribute("ws-replace", fd);fe.replaceChild(ff, fc);} } const fg=globalThis.document.createElement("div");fg.appendChild(fc);return fg;}
function bA(fc){ const fd=globalThis.document.createElement("div");while(fc.hasChildNodes())fd.appendChild(fc.firstChild);return fd;}
function bB(fc){ const fd=globalThis.document.createElement("div");const fe=fc.content;for(let ff=0, fg=fe.childNodes.length-1;ff<=fg;ff++)fd.appendChild(fe.childNodes[ff].cloneNode(true));return fd;}
function bC(fc, fd, fe, ff){ const fg=new cS("New_3");function fh(fo, fp){ while(true)switch(fo){ case 0:if(fp!==null){ const fq=fp.nextSibling;if(cf(fp.nodeType, Node.TEXT_NODE))dt(fp);else if(cf(fp.nodeType, Node.ELEMENT_NODE))fj(fp);fp=fq;} else return null;break;case 1:const fr=dB(fp.nodeName, i(3), null).toLowerCase();const fs=fr.indexOf(".");const ft=fs===-1?[fc, fr]:[dB(fr, null, i(fs-1)), dB(fr, i(fs+1), null)];const fu=ft[1];const fv=ft[0];if(fv!=""&&!bx().ContainsKey(fv))return du(fu);else { if(fv==""&&ff!=null)ff.$0(fu);const fw=bx().Item(fv);if(!fw.ContainsKey(fu))return du(fu);else { const fx=fw.Item(fu);const fy=fx.cloneNode(true);const fz=new cS("New_3");const fA=new b0("New_5");const fB=fp.attributes;for(let fL=0, fM=fB.length-1;fL<=fM;fL++){ const fC=fB.item(fL).name.toLowerCase();const fD=fB.item(fL).nodeValue;let fE=fD==""?fC:fD.toLowerCase();fA.set_Item(fC, fE);if(!fz.SAdd(fC))console.warn("Hole mapped twice", fC);} for(let fN=0, fO=fp.childNodes.length-1;fN<=fO;fN++){ const fF=fp.childNodes[fN];if(cf(fF.nodeType, Node.ELEMENT_NODE))if(!fz.SAdd(fF.nodeName.toLowerCase()))console.warn("Hole filled twice", fu);} const fG=fp.childNodes.length===1&&cf(fp.firstChild.nodeType, Node.TEXT_NODE);if(fG){ const fH=dv(fy, fp.firstChild.textContent, fu);const fI=((fP) =>(fQ) => fP.SAdd(fQ))(fz);let fJ=((fP) =>(fQ) => { if(fQ!=null)fP(fQ.$0);})((fP) => { fI(fP);});fJ(fH);} dw(fy, fz);if(!fG){ for(let fP=0, fQ=fp.childNodes.length-1;fP<=fQ;fP++){ const fK=fp.childNodes[fP];if(cf(fK.nodeType, Node.ELEMENT_NODE))if(fK.hasAttributes())dx(fy, fK);else fi(fy, fK);} } dy(fy, fA);dz(fy, fp.parentNode, fp);fp.parentNode.removeChild(fp);return;} } break;} } function fi(fo, fp){ const fq=fp.nodeName.toLowerCase();const fr=(fv, fw) => { if(fq=="title"&&fp.hasChildNodes()){ const fx=bP(fp.textContent);fp.removeChild(fp.firstChild);while(fx.hasChildNodes())fp.appendChild(fx.firstChild);} fj(fp);return dz(fp, fv, fw);};bD(fo, "[ws-attr-holes]", (fv) => { const fw=dX(fv.getAttribute("ws-attr-holes"), [" "], 1);for(let fA=0, fB=fw.length-1;fA<=fB;fA++){ const fx=d(fw, fA);let fy=new RegExp("\\${"+fq+"}", "ig");let fz=fv.getAttribute(fx).replace(fy, fp.textContent);fv.setAttribute(fx, fz);} });const fs=fo.querySelector("[ws-hole="+fq+"]");if(cf(fs, null)){ const ft=fo.querySelector("[ws-replace="+fq+"]");if(cf(ft, null)){ const fu=fo.querySelector("slot[name="+fq+"]");return fo.tagName.toLowerCase()=="template"?(fr(fu.parentNode, fu),void fu.parentNode.removeChild(fu)):null;} else { fr(ft.parentNode, ft);ft.parentNode.removeChild(ft);return;} } else { while(fs.hasChildNodes())fs.removeChild(fs.lastChild);fs.removeAttribute("ws-hole");return fr(fs, null);} } function fj(fo){ if(!fo.hasAttribute("ws-preserve"))if(dY(fo.nodeName.toLowerCase(), "ws-"))fl(fo);else { dA(fo);fk(fo.firstChild);} } function fk(fo){ return fh(0, fo);} function fl(fo){ return fh(1, fo);} function fm(fo){ while(true){ const fp=fo.querySelector("[ws-template]");if(cf(fp, null)){ const fq=fo.querySelector("[ws-children-template]");if(cf(fq, null)){ const fr=fo.querySelectorAll("template[id]");for(let fx=1, fy=fr.length-1;fx<=fy;fx++){ const fs=fr[fx];if(fg.Contains(fs)){ } else { bC(fc, i(fs.getAttribute("id")), fs, null);fg.SAdd(fs);} } const ft=fo.querySelectorAll("template[name]");for(let fz=1, fA=ft.length-1;fz<=fA;fz++){ const fu=ft[fz];if(fg.Contains(fu)){ } else { bC(fc, i(fu.getAttribute("name")), fu, null);fg.SAdd(fu);} } return null;} else { const fv=fq.getAttribute("ws-children-template");fq.removeAttribute("ws-children-template");bC(fc, i(fv), fq, null);fo=fo;} } else { const fw=fp.getAttribute("ws-template");(bE(fc, i(fw), fp))(null);fo=fo;} } } const fn=(fd==null?"":fd.$0).toLowerCase();by(fc).set_Item(fn, fe);if(fe.hasChildNodes()){ fm(fe);fk(fe.firstChild);} }
function bD(fc, fd, fe){ bV(fc, fd, (ff) => { if(ff.closest("[ws-preserve]")==null)fe(ff);});}
function bE(fc, fd, fe){ const ff=bz(fe);return(fg) => { bC(fc, fd, ff, fg);};}
function bF(){ return cR.TextHoleRE;}
function bG(fc){ const fd={s:cI(fc)};return() => fd;}
function bH(fc, fd){ return bK((fe) => fe, fc, fd);}
function bI(fc, fd){ return bM(() => b4(fc(), fd()));}
function bJ(fc, fd){ function fe(){ b5(fd(), fc, () => { bh().Fork(fe);});} bh().Fork(fe);}
function bK(fc, fd, fe){ const ff=[new b0("New_5")];return bL((fg) => { const fh=ff[0];const fi=new b0("New_5");const fj=cG((fk) => { const fl=fc(fk);const fm=fh.ContainsKey(fl)?fh.Item(fl):fd(fk);fi.set_Item(fl, fm);return fm;}, s(fg));ff[0]=fi;return fj;}, fe);}
function bL(fc, fd){ return bM(() => b6(fc, fd()));}
function bM(fc){ const fd={c:null, o:fc};return() => { let fe=fd.c;if(fe===null){ fe=fd.o();fd.c=fe;const ff=fe.s;if(ff!=null&&ff.$==0)fd.o=null;else b3(fe, () => { fd.c=null;});return fe;} else return fe;};}
function bN(fc, fd){ return bO(bL(fc, fd));}
function bO(fc){ return bM(() => cc(fc()));}
function bP(fc){ const fd=globalThis.document.createElement("div");if(!bQ().test(fc)){ fd.appendChild(globalThis.document.createTextNode(fc));return fd;} else { const fe=bU().exec(fc);const ff=cf(fe, null)?"":d(fe, 1).toLowerCase();const fg=(bR())[ff];const fh=fg?fg:bS();fd.innerHTML=fh[1]+fc.replace(bT(), "<$1></$2>")+fh[2];function fi(fj, fk){ while(true){ if(fk===0)return fj;else { const fl=fk;fj=fj.lastChild;fk=fl-1;} } } return fi(fd, fh[0]);} }
function bQ(){ return eF.rhtml;}
function bR(){ return eF.wrapMap;}
function bS(){ return eF.defaultWrap;}
function bT(){ return eF.rxhtmlTag;}
function bU(){ return eF.rtagName;}
function bV(fc, fd, fe){ const ff=fc.querySelectorAll(fd);for(let fg=0, fh=ff.length-1;fg<=fh;fg++)fe(ff[fg]);}
function bW(fc, fd, fe){ let ff;if(fe.parentNode===fc){ const fg=fe.nextSibling;let fh=cf(fg, null)?null:fg;ff=fd===fh;} else ff=false;if(!ff)fc.insertBefore(fe, fd);}
function bX(fc, fd){ if(fd.parentNode===fc)fc.removeChild(fd);}
class bY { static Concat(fc){ const fd=cD(fc);return cE(dd(), bY.Append, fd);} static Append(fc, fd){ return dc(fc, fd);} static A2(fc, fd){ return e9(bY, {$:2, $0:fc, $1:fd});} }
class bZ { }
class b0 extends j { equals;hash;count;data;Clear(){ this.data=[];this.count=0;} set_Item(fc, fd){ this.set(fc, fd);} TryGetValue(fc, fd){ const fe=this.data[this.hash(fc)];if(fe==null)return false;else { const ff=u((fg) => { const fh=n(fg);return this.equals.apply(null, [fh[0], fc])?i(fh[1]):null;}, fe);return ff!=null&&ff.$==1&&(fd.set(ff.$0),true);} } RemoveKey(fc){ return this.remove(fc);} ContainsKey(fc){ const fd=this.data[this.hash(fc)];return fd==null?false:v((fe) => this.equals.apply(null, [(n(fe))[0], fc]), fd);} get Keys(){ return new dC(this);} set(fc, fd){ const fe=this.hash(fc);const ff=this.data[fe];if(ff==null){ this.count=this.count+1;this.data[fe]=new Array({K:fc, V:fd});} else { const fg=r((fh) => this.equals.apply(null, [(n(fh))[0], fc]), ff);if(fg==null){ this.count=this.count+1;ff.push({K:fc, V:fd});} else ff[fg.$0]={K:fc, V:fd};} } GetEnumerator(){ return br(w(h(this.data)));} remove(fc){ const fd=this.hash(fc);const fe=this.data[fd];if(fe==null)return false;else { const ff=x((fg) =>!this.equals.apply(null, [(n(fg))[0], fc]), fe);return f(ff)<fe.length&&(this.count=this.count-1,this.data[fd]=ff,true);} } Item(fc){ return this.get(fc);} get(fc){ const fd=this.data[this.hash(fc)];return fd==null?ds():C((fe) => { const ff=n(fe);return this.equals.apply(null, [ff[0], fc])?i(ff[1]):null;}, fd);} static New_5(){ return new this("New_5");} static New_6(fc, fd, fe){ return new this("New_6", fc, fd, fe);} constructor(fc, fd, fe, ff){ if(fc=="New_5"){ fc="New_6";fd=[];fe=cf;ff=ci;} if(fc=="New_6"){ const fg=fd;const fh=fe;const fi=ff;super();this.equals=fh;this.hash=fi;this.count=0;this.data=[];const fj=bo(fg);try { while(fj.MoveNext()){ const fk=fj.Current;this.set(fk.K, fk.V);} } finally { if(typeof fj=="object"&&a(fj))fj.Dispose();} } } }
function b1(fc){ let fd;const fe=fc.s;if(fe==null||(fe!=null&&fe.$==2?(fd=fe.$1,false):fe!=null&&fe.$==3?(fd=fe.$1,false):true))void 0;else { fc.s=null;for(let fg=0, fh=f(fd)-1;fg<=fh;fg++){ const ff=d(fd, fg);if(typeof ff=="object")(((fi) => { b1(fi);})(ff));else ff();} } }
function b2(fc){ const fd=fc.s;if(fd==null)return fc;else if(fd!=null&&fd.$==2){ const fe={s:cJ(fd.$0, [])};b7(fc, fe);return fe;} else if(fd!=null&&fd.$==3){ const ff={s:cK([], [])};b8(fc, (fg) => { b9(ff, fc, fg);}, ff);return ff;} else return fc;}
function b3(fc, fd){ const fe=fc.s;if(fe==null)fd();else fe!=null&&fe.$==2?fe.$1.push(fd):fe!=null&&fe.$==3?fe.$1.push(fd):void 0;}
function b4(fc, fd){ const fe=fc.s;const ff=fd.s;if(fe!=null&&fe.$==0)return ff!=null&&ff.$==0?{s:cI(null)}:fd;else if(ff!=null&&ff.$==0)return fc;else { const fg={s:cK([], [])};const fh=() => { const fi=fg.s;if(!(fi!=null&&fi.$==0||fi!=null&&fi.$==2)){ const fj=b_(fc);const fk=b_(fd);if(fj!=null&&fj.$==1)if(fk!=null&&fk.$==1)if(fj.$0[1]&&fk.$0[1])b$(fg, null);else ca(fg, null);} };b8(fc, fh, fg);b8(fd, fh, fg);return fg;} }
function b5(fc, fd, fe){ const ff=fc.s;if(ff==null)fe();else ff!=null&&ff.$==2?(ff.$1.push(fe),fd(ff.$0)):ff!=null&&ff.$==3?(ff.$0.push(fd),ff.$1.push(fe)):fd(ff.$0);}
function b6(fc, fd){ const fe=fd.s;if(fe!=null&&fe.$==0)return{s:cI(fc(fe.$0))};else { const ff={s:cK([], [])};b8(fd, (fg) => { b9(ff, fd, fc(fg));}, ff);return ff;} }
function b7(fc, fd){ const fe=fc.s;if(fe==null)b1(fd);else fe!=null&&fe.$==2?cb(fe.$1, fd):fe!=null&&fe.$==3?cb(fe.$1, fd):void 0;}
function b8(fc, fd, fe){ const ff=fc.s;if(ff==null)b1(fe);else ff!=null&&ff.$==2?(cb(ff.$1, fe),fd(ff.$0)):ff!=null&&ff.$==3?(ff.$0.push(fd),cb(ff.$1, fe)):fd(ff.$0);}
function b9(fc, fd, fe){ const ff=fd.s;if(ff!=null&&ff.$==0)b$(fc, fe);else ca(fc, fe);}
function b_(fc){ const fd=fc.s;return fd!=null&&fd.$==0?i([fd.$0, true]):fd!=null&&fd.$==2?i([fd.$0, false]):null;}
function b$(fc, fd){ const fe=fc.s;if(fe!=null&&fe.$==3){ fc.s=cI(fd);const ff=fe.$0;for(let fg=0, fh=f(ff)-1;fg<=fh;fg++)(d(ff, fg))(fd);} else void 0;}
function ca(fc, fd){ const fe=fc.s;if(fe!=null&&fe.$==3){ fc.s=cJ(fd, fe.$1);const ff=fe.$0;for(let fg=0, fh=f(ff)-1;fg<=fh;fg++)(d(ff, fg))(fd);} else void 0;}
function cb(fc, fd){ fc.push(fd);if(fc.length%20===0){ const fe=fc.slice(0);e2(fc);for(let fg=0, fh=f(fe)-1;fg<=fh;fg++){ const ff=d(fe, fg);if(typeof ff=="object")(((fi) => { if(fi.s)fc.push(fi);})(ff));else(((fi) => { fc.push(fi);})(ff));} } else void 0;}
function cc(fc){ const fd={s:cK([], [])};b8(fc, (fe) => { const ff=fe();b8(ff, (fg) => { let fh;const fi=ff.s;if(fi!=null&&fi.$==0){ const fj=fc.s;fh=fj!=null&&fj.$==0;} else fh=false;if(fh)b$(fd, fg);else ca(fd, fg);}, fd);}, fd);return fd;}
function cd(fc, fd){ return ce(fc, cL(s(fd)));}
function ce(fc, fd){ return new k("New", fc, fd);}
function cf(fc, fd){ if(fc===fd)return true;else { const fe=typeof fc;if(fe=="object"){ if(fc===null||fc===void 0||fd===null||fd===void 0||!cf(typeof fd, "object"))return false;else if("Equals"in fc)return fc.Equals(fd);else if("Equals"in fd)return false;else if(fc instanceof Array&&fd instanceof Array)return cg(fc, fd);else if(fc instanceof Date&&fd instanceof Date)return ch(fc, fd);else { const ff=[true];let fg;for(var fi in fc)if(((fj) => { ff[0]=!fc.hasOwnProperty(fj)||fd.hasOwnProperty(fj)&&cf(fc[fj], fd[fj]);return!ff[0];})(fi))break;if(ff[0]){ let fh;for(var fj in fd)if(((fk) => { ff[0]=!fd.hasOwnProperty(fk)||fc.hasOwnProperty(fk);return!ff[0];})(fj))break;} return ff[0];} } else return fe=="function"&&("$Func"in fc?fc.$Func===fd.$Func&&fc.$Target===fd.$Target:"$Invokes"in fc&&"$Invokes"in fd&&cg(fc.$Invokes, fd.$Invokes));} }
function cg(fc, fd){ let fe;let ff;if(f(fc)===f(fd)){ fe=true;ff=0;while(fe&&ff<f(fc)){!cf(d(fc, ff), d(fd, ff))?fe=false:void 0;ff=ff+1;} return fe;} else return false;}
function ch(fc, fd){ return fc.getTime()===fd.getTime();}
function ci(fc){ const fd=typeof fc;return fd=="function"?0:fd=="boolean"?fc?1:0:fd=="number"?fc:fd=="string"?cj(fc):fd=="object"?fc==null?0:fc instanceof Array?ck(fc):cl(fc):0;}
function cj(fc){ let fd;if(fc===null)return 0;else { fd=5381;for(let fe=0, ff=fc.length-1;fe<=ff;fe++)fd=cm(fd, fc[fe].charCodeAt());return fd;} }
function ck(fc){ let fd=-34948909;for(let fe=0, ff=f(fc)-1;fe<=ff;fe++)fd=cm(fd, ci(d(fc, fe)));return fd;}
function cl(fc){ if("GetHashCode"in fc)return fc.GetHashCode();else { const fd=[0];let fe;for(var ff in fc)if(((fg) => { fd[0]=cm(cm(fd[0], cj(fg)), ci(fc[fg]));return false;})(ff))break;return fd[0];} }
function cm(fc, fd){ return(fc<<5)+fc+fd;}
function cn(fc, fd){ if(fc===fd)return 0;else { const fe=typeof fc;switch(fe=="function"?1:fe=="boolean"?2:fe=="number"?2:fe=="string"?2:fe=="object"?3:0){ case 0:return typeof fd=="undefined"?0:-1;case 1:return m("Cannot compare function values.");case 2:return fc<fd?-1:1;case 3:if(fc===null)return -1;else if(fd===null)return 1;else if("CompareTo"in fc)return fc.CompareTo(fd);else if("CompareTo0"in fc)return fc.CompareTo0(fd);else if(fc instanceof Array&&fd instanceof Array)return co(fc, fd);else if(fc instanceof Date&&fd instanceof Date)return cp(fc, fd);else { const ff=[0];let fg;for(var fi in fc)if(((fj) =>!fc.hasOwnProperty(fj)?false:!fd.hasOwnProperty(fj)?(ff[0]=1,true):(ff[0]=cn(fc[fj], fd[fj]),ff[0]!==0))(fi))break;if(ff[0]===0){ let fh;for(var fj in fd)if(((fk) =>!fd.hasOwnProperty(fk)?false:!fc.hasOwnProperty(fk)&&(ff[0]=-1,true))(fj))break;} return ff[0];} break;} } }
function co(fc, fd){ let fe;let ff;if(f(fc)<f(fd))return -1;else if(f(fc)>f(fd))return 1;else { fe=0;ff=0;while(fe===0&&ff<f(fc)){ fe=cn(d(fc, ff), d(fd, ff));ff=ff+1;} return fe;} }
function cp(fc, fd){ return cn(fc.getTime(), fd.getTime());}
function cq(fc, fd){ return{k:fc, ct:fd};}
function cr(fc){ return{$:1, $0:fc};}
function cs(fc){ return{$:0, $0:fc};}
function ct(fc){ return{$:2, $0:fc};}
let cu=e_((fc) => class fd { static { cu=fc(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=cv(false, []);this.scheduler=new cM();this.defCTS=[new cN()];this.Zero=bb();this.GetCT=(fe) => { fe.k(cs(fe.ct));};} });
function cv(fc, fd){ return{c:fc, r:fd};}
class cw extends j { }
class cx extends Error { reason;constructor(fc){ super("Promise rejected");this.reason=fc;} }
function cy(fc){ return{$:5, $0:fc};}
function cz(fc){ return{$:1, $0:fc};}
function cA(fc, fd){ return{$:0, $0:fc, $1:fd};}
function cB(fc){ return{$:2, $0:fc};}
class cC extends X { docNode_1;updates_1;elt;rvUpdates;static New(fc, fd, fe){ const ff=cU(fc, fd, fe.docNode);const fg=da.Create(fe.updates);return new cC(cz(ff), bI(db(ff.Attr), fg.v), fc, fg);} constructor(fc, fd, fe, ff){ super(fc, fd);this.docNode_1=fc;this.updates_1=fd;this.elt=fe;this.rvUpdates=ff;} }
function cD(fc){ if(fc instanceof Array)return fc;else if(fc instanceof u0034)return t(fc);else if(fc===null)return[];else { const fd=[];const fe=bo(fc);try { while(fe.MoveNext())fd.push(fe.Current);return fd;} finally { if(typeof fe=="object"&&a(fe))fe.Dispose();} } }
function cE(fc, fd, fe){ const ff=f(fe);function fg(fh){ return(fi) => { let fj;switch(fi<=0?0:fi===1?fh>=0&&fh<ff?1:(fj=fi,2):(fj=fi,2)){ case 0:return fc;case 1:return d(fe, fh);case 2:const fk=fi/2>>0;return fd((fg(fh))(fk), (fg(fh+fk))(fi-fk));} };} return(fg(0))(ff);}
function cF(fc, fd, fe, ff){ const fg=f(ff);function fh(fi){ return(fj) => { let fk;switch(fj<=0?0:fj===1?fi>=0&&fi<fg?1:(fk=fj,2):(fk=fj,2)){ case 0:return fd;case 1:return fc(d(ff, fi));case 2:const fl=fj/2>>0;return fe((fh(fi))(fl), (fh(fi+fl))(fj-fl));} };} return(fh(0))(fg);}
function cG(fc, fd){ for(let fe=0, ff=fd.length-1;fe<=ff;fe++)fd[fe]=fc(fd[fe]);return fd;}
function cH(fc, fd){ return eO(fc, -2147483648, 2147483647, fd);}
function cI(fc){ return{$:0, $0:fc};}
function cJ(fc, fd){ return{$:2, $0:fc, $1:fd};}
function cK(fc, fd){ return{$:3, $0:fc, $1:fd};}
function cL(fc){ return new dp(fc);}
class cM extends j { idle;robin;Fork(fc){ this.robin.push(fc);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fc=Date.now();let fd=true;while(fd)if(this.robin.length===0){ this.idle=true;fd=false;} else {(this.robin.shift())();Date.now()-fc>40?(setTimeout(() => { this.tick();}, 0),fd=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class cN extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function cO(){ return m("The input must be non-negative.");}
function cP(){ return m("The input sequence has an insufficient number of elements.");}
function cQ(fc, fd){ let fe=true;let ff=0;while(fe&&ff<f(fd))if(cf(fd[ff], fc))fe=false;else ff=ff+1;return!fe;}
let cR=e_((fc) => class fd { static { cR=fc(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new b0("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new b0("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
class cS extends j { equals;hash;data;count;SAdd(fc){ return this.add(fc);} Contains(fc){ const fd=this.data[this.hash(fc)];return fd==null?false:this.arrContains(fc, fd);} add(fc){ const fd=this.hash(fc);const fe=this.data[fd];return fe==null?(this.data[fd]=[fc],this.count=this.count+1,true):this.arrContains(fc, fe)?false:(fe.push(fc),this.count=this.count+1,true);} arrContains(fc, fd){ let fe=true;let ff=0;const fg=fd.length;while(fe&&ff<fg)if(this.equals.apply(null, [fd[ff], fc]))fe=false;else ff=ff+1;return!fe;} GetEnumerator(){ return bo(eQ(this.data));} ExceptWith(fc){ const fd=bo(fc);try { while(fd.MoveNext())this.Remove(fd.Current);} finally { if(typeof fd=="object"&&a(fd))fd.Dispose();} } get Count(){ return this.count;} IntersectWith(fc){ const fd=new cS("New_4", fc, this.equals, this.hash);const fe=eQ(this.data);for(let fg=0, fh=fe.length-1;fg<=fh;fg++){ const ff=fe[fg];if(!fd.Contains(ff))this.Remove(ff);} } Remove(fc){ const fd=this.data[this.hash(fc)];return fd==null?false:this.arrRemove(fc, fd)&&(this.count=this.count-1,true);} CopyTo(fc, fd){ const fe=eQ(this.data);for(let ff=0, fg=fe.length-1;ff<=fg;ff++)e(fc, ff+fd, fe[ff]);} arrRemove(fc, fd){ let fe=true;let ff=0;const fg=fd.length;while(fe&&ff<fg)if(this.equals.apply(null, [fd[ff], fc])){ fd.splice(ff, 1);fe=false;} else ff=ff+1;return!fe;} static New_3(){ return new this("New_3");} static New_4(fc, fd, fe){ return new this("New_4", fc, fd, fe);} static New_2(fc){ return new this("New_2", fc);} constructor(fc, fd, fe, ff){ if(fc=="New_3"){ fc="New_4";fd=[];fe=cf;ff=ci;} let fg;if(fc=="New_2"){ fg=fd;fc="New_4";fd=fg;fe=cf;ff=ci;} if(fc=="New_4"){ const fh=fd;const fi=fe;const fj=ff;super();this.equals=fi;this.hash=fj;this.data=[];this.count=0;const fk=bo(fh);try { while(fk.MoveNext())this.add(fk.Current);} finally { if(typeof fk=="object"&&a(fk))fk.Dispose();} } } }
function cT(fc, fd){ cV(fc, fd, null);}
function cU(fc, fd, fe){ cT(fc, fe);const ff=de(fc, fd);return c$.New(ff, fe, null, fc, dM(), e$(ff.OnAfterRender));}
function cV(fc, fd, fe){ while(true){ if(fd!=null&&fd.$==1)return cZ(fc, fd.$0.El, fe);else if(fd!=null&&fd.$==2){ const ff=fd.$0;ff.Dirty=false;fd=ff.Current;} else if(fd==null)return fe;else if(fd!=null&&fd.$==4)return cZ(fc, fd.$0.Text, fe);else if(fd!=null&&fd.$==5)return cZ(fc, fd.$0, fe);else if(fd!=null&&fd.$==6)return A((fi, fj) =>((((fk) =>(fl) =>(fm) => fl==null||fl.constructor===Object?cV(fk, fl, fm):cZ(fk, fl, fm))(fc))(fi))(fj), fd.$0.Els, fe);else { const fg=fd.$1;const fh=fd.$0;fd=fh;fe=cV(fc, fg, fe);} } }
function cW(fc, fd){ return d4(d5(), cU(fc, dd(), fd));}
function cX(fc, fd, fe){ if(dD()){ const ff=null;return u0037(() => { const fg=d6(fe);const fh=c3(fd, fg);const fi=c2(fd, fg);return u0038(dE(dF(fh, c1(fd, fg))), () => u0038(c0(fc, fd), () => u0038(dE(fi), () => { fd.PreviousNodes=fg;return bb(null);})));});} else return c0(fc, fd);}
function cY(fc, fd, fe){ const ff=d6(fe);c4(fc, fd.Top);fd.PreviousNodes=ff;}
function cZ(fc, fd, fe){ bW(fc, fe, fd);return fd;}
function c0(fc, fd){ if(dJ()){ const fe=(ff) => { requestAnimationFrame(() => { c4(fc, fd.Top);ff();});};return bf((ff, fg, fh) => fe.apply(null, [ff, fg, fh]));} else { c4(fc, fd.Top);return bb(null);} }
function c1(fc, fd){ return dI(y((fe) => di(fe.Attr), d_(d9(fd, d8((fe) => dh(fe.Attr), fc.PreviousNodes)))));}
function c2(fc, fd){ return dI(y((fe) => dk(fe.Attr), d_(d9(fc.PreviousNodes, d8((fe) => dj(fe.Attr), fd)))));}
function c3(fc, fd){ const fe=(fg) => dl(fg.Attr);const ff=(fg) => d8(fe, fg);return dI(y((fg) => dm(fg.Attr), d_(d$(ff(fc.PreviousNodes), ff(fd)))));}
function c4(fc, fd){!fc?c7(fd):void 0;c8(fd.Children);c9(fd);}
function c5(){ return{Current:null, Dirty:false};}
function c6(fc, fd){ fc.Current=fd;fc.Dirty=true;}
function c7(fc){ function fd(fe){ function ff(fg){ while(true){ if(fg!=null&&fg.$==0){ const fh=fg.$1;const fi=fg.$0;if(ff(fi))return true;else fg=fh;} else if(fg!=null&&fg.$==2){ const fj=fg.$0;if(fj.Dirty)return true;else fg=fj.Current;} else if(fg!=null&&fg.$==6){ const fk=fg.$0;return fk.Dirty||v(fd, fk.Holes);} else return false;} } return ff(fe.Children);} do_1(fc.El, fc.Attr);if(fd(fc))c_(fc);}
function c8(fc){ while(true){ if(fc!=null&&fc.$==1)return c4(false, fc.$0);else if(fc!=null&&fc.$==2){ const fd=fc.$0;fc=fd.Current;} else if(fc==null)return null;else if(fc!=null&&fc.$==5)return null;else if(fc!=null&&fc.$==4){ const fe=fc.$0;return fe.Dirty?(fe.Text.nodeValue=fe.Value,fe.Dirty=false):null;} else if(fc!=null&&fc.$==6){ const ff=fc.$0;z((fi) => { c4(false, fi);}, ff.Holes);z((fi) => { do_1(fi[0], fi[1]);}, ff.Attrs);return c9(ff);} else { const fg=fc.$1;const fh=fc.$0;c8(fh);fc=fg;} } }
function c9(fc){ const fd=e$(fc.Render);if(fd!=null&&fd.$==1){ fd.$0(fc.El);fa(fc, "Render", null);} }
function c_(fc){ const fd=fc.El;function fe(fi, fj){ while(true){ if(fi!=null&&fi.$==1)return fi.$0.El;else if(fi!=null&&fi.$==2){ const fk=fi.$0;if(fk.Dirty){ fk.Dirty=false;return cV(fd, fk.Current, fj);} else fi=fk.Current;} else if(fi==null)return fj;else if(fi!=null&&fi.$==4)return fi.$0.Text;else if(fi!=null&&fi.$==5)return fi.$0;else if(fi!=null&&fi.$==6){ const fl=fi.$0;if(fl.Dirty)fl.Dirty=false;return A((fo, fp) => fo==null||fo.constructor===Object?fe(fo, fp):fo, fl.Els, fj);} else { const fm=fi.$1;const fn=fi.$0;fi=fn;fj=fe(fm, fj);} } } const ff=fc.El;eZ((fi) => { bX(ff, fi);}, eY(e0(fc), eX(fc.El, e$(fc.Delimiters))));let fg=fc.Children;const fh=e$(fc.Delimiters);fe(fg, fh!=null&&fh.$==1?fh.$0[1]:null);}
class c$ { Attr;Children;Delimiters;El;ElKey;Render;Equals(fc){ return this.ElKey===fc.ElKey;} GetHashCode(){ return this.ElKey;} static New(fc, fd, fe, ff, fg, fh){ const fi={Attr:fc, Children:fd, El:ff, ElKey:fg};let fj=(fa(fi, "Delimiters", fe),fa(fi, "Render", fh),fi);return e9(c$, fj);} }
class da { c;s;v;static Create(fc){ let fd;fd=null;fd=da.New(fc, null, () => { let fe;fe=fd.s;return fe===null?(fe=b2(fd.c()),fd.s=fe,b3(fe, () => { fd.s=null;}),fe):fe;});return fd;} static New(fc, fd, fe){ return e9(da, {c:fc, s:fd, v:fe});} }
function db(fc){ return cF((fd) => fd.NChanged, bG(), bI, fc.DynNodes);}
function dc(fc, fd){ if(fc===null)return fd;else if(fd===null)return fc;else { const fe=bY.A2(fc, fd);df(fe, dg(fc)|dg(fd));return fe;} }
function dd(){ return dP.EmptyAttr;}
function de(fc, fd){ const fe=[];const ff=[];function fg(fj){ while(true){ if(!(fj===null)){ if(fj!=null&&fj.$==1)return fe.push(fj.$0);else if(fj!=null&&fj.$==2){ const fk=fj.$1;const fl=fj.$0;fg(fl);fj=fk;} else return fj!=null&&fj.$==3?fj.$0(fc):fj!=null&&fj.$==4?ff.push(fj.$0):null;} else return null;} } fg(fd);const fh=fe.slice(0);let fi=dL(fc, dg(fd), fh, ff.length===0?null:i((fj) => { J((fk) => { fk(fj);}, ff);}));return fi;}
function df(fc, fd){ fc.flags=fd;}
function dg(fc){ return fc!==null&&fc.hasOwnProperty("flags")?fc.flags:0;}
function dh(fc){ const fd=2;return(fc.DynFlags&fd)===fd;}
function di(fc){ return dn(fc, (fd, fe) => fd.NGetExitAnim(fe));}
function dj(fc){ const fd=1;return(fc.DynFlags&fd)===fd;}
function dk(fc){ return dn(fc, (fd, fe) => fd.NGetEnterAnim(fe));}
function dl(fc){ const fd=4;return(fc.DynFlags&fd)===fd;}
function dm(fc){ return dn(fc, (fd, fe) => fd.NGetChangeAnim(fe));}
function dn(fc, fd){ return dI(y((fe) => fd(fe, fc.DynElem), fc.DynNodes));}
function do_1(fc, fd){ z((fe) => { fe.NSync(fc);}, fd.DynNodes);}
class dp extends j { init;SSet(fc){ return s(fc);} SSetAt(fc, fd, fe){ e(fe, fc, fd);return fe;} SAppend(fc, fd){ fd.push(fc);return fd;} SInit(){ return this.init;} constructor(fc){ super();this.init=fc;} }
class dq extends Error { ct;static New(fc){ return new this("New", fc);} static New_1(fc, fd, fe){ return new this("New_1", fc, fd, fe);} constructor(fc, fd, fe, ff){ let fg;if(fc=="New"){ fg=fd;fc="New_1";fd="The operation was canceled.";fe=null;ff=fg;} if(fc=="New_1"){ const fh=fd;const fi=fe;const fj=ff;super(fh);this.inner=fi;this.ct=fj;} } }
class dr extends j { }
function ds(){ throw new eR("New");}
function dt(fc){ let fd=null;let fe=0;const ff=fc.textContent;const fg=new RegExp(bF(), "g");while(fd=fg.exec(ff),fd!==null){ fc.parentNode.insertBefore(globalThis.document.createTextNode(dB(ff, i(fe), i(fg.lastIndex-d(fd, 0).length-1))), fc);fe=fg.lastIndex;const fh=globalThis.document.createElement("span");fh.setAttribute("ws-replace", d(fd, 1).toLowerCase());fc.parentNode.insertBefore(fh, fc);} fg.lastIndex=0;fc.textContent=dB(ff, i(fe), null);}
function du(fc){ console.warn("Instantiating non-loaded template", fc);}
function dv(fc, fd, fe){ const ff=fc.querySelector("[ws-replace]");return cf(ff, null)?(console.warn("Filling non-existent text hole", fe),null):(ff.parentNode.replaceChild(globalThis.document.createTextNode(fd), ff),i(ff.getAttribute("ws-replace")));}
function dw(fc, fd){ const fe=(ff) => { bD(fc, "["+ff+"]", (fg) => { if(!fd.Contains(fg.getAttribute(ff)))fg.removeAttribute(ff);});};fe("ws-attr");fe("ws-onafterrender");fe("ws-var");bD(fc, "[ws-hole]", (ff) => { if(!fd.Contains(ff.getAttribute("ws-hole"))){ ff.removeAttribute("ws-hole");while(ff.hasChildNodes())ff.removeChild(ff.lastChild);} });bD(fc, "[ws-replace]", (ff) => { if(!fd.Contains(ff.getAttribute("ws-replace")))ff.parentNode.removeChild(ff);});bD(fc, "[ws-on]", (ff) => { ff.setAttribute("ws-on", dW(" ", x((fg) => fd.Contains(d(dX(fg, [":"], 1), 1)), dX(ff.getAttribute("ws-on"), [" "], 1))));});bD(fc, "[ws-attr-holes]", (ff) => { const fg=dX(ff.getAttribute("ws-attr-holes"), [" "], 1);for(let fk=0, fl=fg.length-1;fk<=fl;fk++){ const fh=d(fg, fk);let fi=new RegExp(bF(), "g");let fj=ff.getAttribute(fh).replace(fi, (fm, fn) => fd.Contains(fn)?fm:"");ff.setAttribute(fh, fj);} });}
function dx(fc, fd){ dA(fd);const fe=fd.nodeName.toLowerCase();const ff=fc.querySelector("[ws-attr="+fe+"]");if(cf(ff, null))console.warn("Filling non-existent attr hole", fe);else { ff.removeAttribute("ws-attr");for(let fh=0, fi=fd.attributes.length-1;fh<=fi;fh++){ const fg=fd.attributes.item(fh);if(fg.name=="class"&&ff.hasAttribute("class"))ff.setAttribute("class", ff.getAttribute("class")+" "+fg.nodeValue);else ff.setAttribute(fg.name, fg.nodeValue);} } }
function dy(fc, fd){ const fe=(ff) => { bD(fc, "["+ff+"]", (fg) => { let fh;const fi=(fh=null,[fd.TryGetValue(fg.getAttribute(ff).toLowerCase(), {get:() => fh, set:(fj) => { fh=fj;}}), fh]);if(fi[0])fg.setAttribute(ff, fi[1]);});};fe("ws-hole");fe("ws-replace");fe("ws-attr");fe("ws-onafterrender");fe("ws-var");bD(fc, "[ws-on]", (ff) => { ff.setAttribute("ws-on", dW(" ", y((fg) => { let fh;const fi=dX(fg, [":"], 1);const fj=(fh=null,[fd.TryGetValue(d(fi, 1), {get:() => fh, set:(fk) => { fh=fk;}}), fh]);return fj[0]?d(fi, 0)+":"+fj[1]:fg;}, dX(ff.getAttribute("ws-on"), [" "], 1))));});bD(fc, "[ws-attr-holes]", (ff) => { const fg=dX(ff.getAttribute("ws-attr-holes"), [" "], 1);for(let fh=0, fi=fg.length-1;fh<=fi;fh++)((() => { const fj=d(fg, fh);return ff.setAttribute(fj, O((fk, fl) => { const fm=n(fl);return fk.replace(new RegExp("\\${"+fm[0]+"}", "ig"), "${"+fm[1]+"}");}, ff.getAttribute(fj), fd));})());});}
function dz(fc, fd, fe){ while(true){ if(fc.hasChildNodes())fe=fd.insertBefore(fc.lastChild, fe);else return null;} }
function dA(fc){ const fd=fc.attributes;const fe=[];const ff=[];const fg=[];for(let fl=0, fm=fd.length-1;fl<=fm;fl++){ const fh=fd.item(fl);if(dY(fh.nodeName, "ws-on")&&fh.nodeName!="ws-onafterrender"&&fh.nodeName!="ws-on"){ fe.push(fh.nodeName);ff.push(dB(fh.nodeName, i("ws-on".length), null)+":"+fh.nodeValue.toLowerCase());} else if(!dY(fh.nodeName, "ws-")&&(new RegExp(bF())).test(fh.nodeValue)){ let fi=new RegExp(bF(), "g");let fj=fh.nodeValue.replace(fi, (fn, fo) =>"${"+fo.toLowerCase()+"}");fh.nodeValue=fj;fg.push(fh.nodeName);} else void 0;} if(!(ff.length==0))fc.setAttribute("ws-on", dW(" ", ff));if(!(fg.length==0))fc.setAttribute("ws-attr-holes", dW(" ", fg));const fk=(fn) => { const fo=fc.getAttribute(fn);if(fo==null){ } else fc.setAttribute(fn, fo.toLowerCase());};fk("ws-hole");fk("ws-replace");fk("ws-attr");fk("ws-onafterrender");fk("ws-var");z((fn) => { fc.removeAttribute(fn);}, fe);}
function dB(fc, fd, fe){ if(fd==null){ if(fe!=null&&fe.$==1){ const ff=fe.$0;return ff<0?"":fc.slice(0, ff+1);} else return"";} else if(fe==null)return fc.slice(fd.$0);else { const fg=fe.$0;return fg<0?"":fc.slice(fd.$0, fg+1);} }
class dC extends j { d;GetEnumerator(){ return bo(H((fc) => fc.K, this.d));} constructor(fc){ super();this.d=fc;} }
function dD(){ return ea();}
function dE(fc){ const fd=null;return u0037(() => u0038(dG(() => { }, eb(fc)), () => { ec(fc);return bb(null);}));}
function dF(fc, fd){ return dH(eH(fc.$0, fd.$0));}
function dG(fc, fd){ const fe=fd.Duration;if(fe===0)return $();else { const ff=(fg) => { function fh(fi){ return(fj) => { const fk=fj-fi;fd.Compute(fk);fc();return fk<=fe?void requestAnimationFrame((fl) => {(fh(fi))(fl);}):fg();};} requestAnimationFrame((fi) => {(fh(fi))(fi);});};return bf((fg, fh, fi) => ff.apply(null, [fg, fh, fi]));} }
function dH(fc){ return{$:0, $0:fc};}
function dI(fc){ return dH(eJ(H(ee, fc)));}
function dJ(){ return ei.BatchUpdatesEnabled;}
function dK(fc){ const fd=[0];function fe(){ const ff=null;return u0037(() => u0038(fc, () => { const fg=fd[0];return cf(fg, 1)?(fd[0]=0,$()):cf(fg, 2)?(fd[0]=1,fe()):$();}));} return() => { const ff=fd[0];if(cf(ff, 0)){ fd[0]=1;ba(fe(), null);} else cf(ff, 1)?fd[0]=2:void 0;};}
function dL(fc, fd, fe, ff){ const fg={DynElem:fc, DynFlags:fd, DynNodes:fe};fa(fg, "OnAfterRender", ff);return fg;}
function dM(){ dN(dO()+1);return dO();}
function dN(fc){ eL.counter=fc;}
function dO(){ return eL.counter;}
let dP=e_((fc) => class fd { static { dP=fc(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(fu) =>[(fv) => { fv.addEventListener("change", () => fu.Get()!=fv.checked?fu.Set(fv.checked):null);}, (fv) =>(fw) => fw!=null&&fw.$==1?void(fv.checked=fw.$0):null, bL(i, fu.View)];this.StringSet=(fu) =>(fv) => { fu.value=fv;};this.StringGet=(fu) => i(fu.value);const fe=el();const ff=ek();this.StringApply=(fu) => ej(fe, ff, fu);this.StringListSet=(fu) =>(fv) => { const fw=fu.options;for(let fx=0, fy=fw.length-1;fx<=fy;fx++)((() => { const fz=fw.item(fx);fz.selected=cQ(fz.value, fv);})());};this.StringListGet=(fu) => { const fv=fu.selectedOptions;return i(s(G(() => P((fw) =>[fv.item(fw).value], l(0, fv.length-1)))));};const fg=en();const fh=em();this.StringListApply=(fu) => ej(fg, fh, fu);this.DateTimeSetUnchecked=(fu) =>(fv) => { fu.value=(new Date(fv)).toLocaleString();};this.DateTimeGetUnchecked=(fu) => { let fv;let fw;const fx=fu.value;if(eB(fx))return i(-8640000000000000);else { fv=0;const fy=eN(fx);let fz=fy!=null&&fy.$==1&&(fv=fy.$0,true);fw=[fz, fv];return fw[0]?i(fw[1]):null;} };const fi=ep();const fj=eo();this.DateTimeApplyUnchecked=(fu) => ej(fi, fj, fu);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(fu) => { const fv=fu.files;return i(s(G(() => H((fw) => fv.item(fw), l(0, fv.length-1)))));};const fk=es();const fl=er();this.FileApplyUnchecked=(fu) => eq(fk, fl, fu);this.IntSetUnchecked=(fu) =>(fv) => { fu.value=String(fv);};this.IntGetUnchecked=(fu) => { const fv=fu.value;if(eB(fv))return i(0);else { const fw=+fv;return fw!==fw>>0?null:i(fw);} };const fm=eu();const fn=et();this.IntApplyUnchecked=(fu) => ej(fm, fn, fu);this.IntSetChecked=(fu) =>(fv) => { const fw=fv.Input;return fu.value!=fw?void(fu.value=fw):null;};this.IntGetChecked=(fu) => { let fv;let fw;const fx=fu.value;if(eB(fx))fv=(fu.checkValidity?fu.checkValidity():true)?eC.Blank(fx):eC.Invalid(fx);else { const fy=(fw=0,[cH(fx, {get:() => fw, set:(fz) => { fw=fz;}}), fw]);fv=fy[0]?eC.Valid(fy[1], fx):eC.Invalid(fx);} return i(fv);};const fo=ew();const fp=ev();this.IntApplyChecked=(fu) => ej(fo, fp, fu);this.FloatSetUnchecked=(fu) =>(fv) => { fu.value=String(fv);};this.FloatGetUnchecked=(fu) => { const fv=fu.value;if(eB(fv))return i(0);else { const fw=+fv;return isNaN(fw)?null:i(fw);} };const fq=ey();const fr=ex();this.FloatApplyUnchecked=(fu) => ej(fq, fr, fu);this.FloatSetChecked=(fu) =>(fv) => { const fw=fv.Input;return fu.value!=fw?void(fu.value=fw):null;};this.FloatGetChecked=(fu) => { let fv;const fw=fu.value;if(eB(fw))fv=(fu.checkValidity?fu.checkValidity():true)?eC.Blank(fw):eC.Invalid(fw);else { const fx=+fw;fv=isNaN(fx)?eC.Invalid(fw):eC.Valid(fx, fw);} return i(fv);};const fs=eA();const ft=ez();this.FloatApplyChecked=(fu) => ej(fs, ft, fu);} });
function dQ(){ return eD.AjaxProvider;}
function dR(fc){ return JSON.stringify(fc);}
function dS(fc){ return o(y((fd) =>[fd[0], fd[1]], B((fd) => fd[0], fc.concat([["content-type", "application/json"]]))));}
function dT(){ return eD.EndPoint;}
function dU(fc, fd, fe, ff, fg, fh, fi){ let fj=new XMLHttpRequest();let fk=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1");fj.open("POST", fd, fc);if(fc==true)fj.withCredentials=true;let fl;for(var fn in fe)fj.setRequestHeader(fn, fe[fn]);if(fk)fj.setRequestHeader("x-csrftoken", fk);function fm(){ if(fj.status==200)fg(fj.responseText);else if(fi&&fj.status==403&&fj.responseText=="CSRF")fi();else { let fo="Response status is not 200: ";fh(new Error(fo+fj.status));} } if("onload"in fj)fj.onload=fj.onerror=fj.onabort=fm;else fj.onreadystatechange=() => { if(fj.readyState==4)fm();};fj.send(ff);}
let dV=e_((fc) => class fd extends j { static { dV=fc(this);} static Create_1(fe){ return new eE(false, {s:cJ(fe, [])}, fe);} static { } });
function dW(fc, fd){ return s(fd).join(fc);}
function dX(fc, fd, fe){ return dZ(fc, new RegExp("["+d0(fd.join(""))+"]"), fe);}
function dY(fc, fd){ return fc.substring(0, fd.length)==fd;}
function dZ(fc, fd, fe){ return fe===1?x((ff) => ff!=="", d2(fc, fd)):d2(fc, fd);}
function d0(fc){ return fc.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d1(fc, fd){ return R(fc, d3(fd));}
function d2(fc, fd){ return fc.split(fd);}
function d3(fc){ return fc==null?"":fc;}
function d4(fc, fd){ return{PreviousNodes:fc, Top:fd};}
function d5(){ return d7(new cS("New_3"));}
function d6(fc){ const fd=[];function fe(fh, fi){ while(true)switch(fh){ case 0:if(fi!=null&&fi.$==0){ const fj=fi.$1;const fk=fi.$0;fe(0, fk);fi=fj;} else if(fi!=null&&fi.$==1){ const fl=fi.$0;fi=fl;fh=1;} else if(fi!=null&&fi.$==2){ const fm=fi.$0;fi=fm.Current;} else if(fi!=null&&fi.$==6){ const fn=fi.$0.Holes;return(((fo) =>(fp) => { z(fo, fp);})(fg))(fn);} else return null;break;case 1:fd.push(fi);fi=fi.Children;fh=0;break;} } function ff(fh){ return fe(0, fh);} function fg(fh){ return fe(1, fh);} ff(fc);return d7(new cS("New_2", fd));}
function d7(fc){ return{$:0, $0:fc};}
function d8(fc, fd){ return d7(eT(fc, fd.$0));}
function d9(fc, fd){ return d7(eU(fc.$0, fd.$0));}
function d_(fc){ return eV(fc.$0);}
function d$(fc, fd){ return d7(eW(fc.$0, fd.$0));}
function ea(){ return eG.UseAnimations;}
function eb(fc){ return ed(D((fd) => fd.$==1?i(fd.$0):null, eI(fc.$0)));}
function ec(fc){ z((fd) => { if(fd.$==0)fd.$0();}, eI(fc.$0));}
function ed(fc){ const fd=cD(fc);const fe=f(fd);if(fe===0)return ef();else if(fe===1)return d(fd, 0);else { const ff=S(H((fh) => fh.Duration, fd));const fg=y((fh) => eh(ff, fh), fd);return eg(ff, (fh) => { z((fi) => { fi.Compute(fh);}, fg);});} }
function ee(fc){ return fc.$0;}
function ef(fc){ return eg(0, () => fc);}
function eg(fc, fd){ return{Compute:fd, Duration:fc};}
function eh(fc, fd){ const fe=fd.Compute;const ff=fd.Duration;const fg=e3(() => fd.Compute(fd.Duration));return{Compute:(fh) => fh>=ff?fg.f():fe(fh), Duration:fc};}
let ei=e_((fc) => class fd { static { ei=fc(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function ej(fc, fd, fe){ let ff;ff=null;return[(fg) => { const fh=() => { fe.UpdateMaybe((fi) => { let fj;ff=fc(fg);return ff!=null&&ff.$==1&&(!cf(ff.$0, fi)&&(fj=[ff, ff.$0],true))?fj[0]:null;});};fg.addEventListener("change", fh);fg.addEventListener("input", fh);fg.addEventListener("keypress", fh);}, (fg) => { const fh=fd(fg);return(fi) => fi==null?null:fh(fi.$0);}, bL((fg) => { let fh;return ff!=null&&ff.$==1&&(cf(ff.$0, fg)&&(fh=ff.$0,true))?null:i(fg);}, fe.View)];}
function ek(){ return dP.StringSet;}
function el(){ return dP.StringGet;}
function em(){ return dP.StringListSet;}
function en(){ return dP.StringListGet;}
function eo(){ return dP.DateTimeSetUnchecked;}
function ep(){ return dP.DateTimeGetUnchecked;}
function eq(fc, fd, fe){ let ff;ff=null;return[(fg) => { fg.addEventListener("change", () => { fe.UpdateMaybe((fh) => { let fi;ff=fc(fg);return ff!=null&&ff.$==1&&(ff.$0!==fh&&(fi=[ff, ff.$0],true))?fi[0]:null;});});}, (fg) => { const fh=fd(fg);return(fi) => fi==null?null:fh(fi.$0);}, bL((fg) => { let fh;return ff!=null&&ff.$==1&&(cf(ff.$0, fg)&&(fh=ff.$0,true))?null:i(fg);}, fe.View)];}
function er(){ return dP.FileSetUnchecked;}
function es(){ return dP.FileGetUnchecked;}
function et(){ return dP.IntSetUnchecked;}
function eu(){ return dP.IntGetUnchecked;}
function ev(){ return dP.IntSetChecked;}
function ew(){ return dP.IntGetChecked;}
function ex(){ return dP.FloatSetUnchecked;}
function ey(){ return dP.FloatGetUnchecked;}
function ez(){ return dP.FloatSetChecked;}
function eA(){ return dP.FloatGetChecked;}
function eB(fc){ return d1(eM, fc);}
class eC { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fc){ return e9(eC, {$:2, $0:fc});} static Invalid(fc){ return e9(eC, {$:1, $0:fc});} static Valid(fc, fd){ return e9(eC, {$:0, $0:fc, $1:fd});} }
let eD=e_((fc) => class fd { static { eD=fc(this);} static AjaxProvider;static EndPoint;static { this.EndPoint=globalThis.location.origin;this.AjaxProvider=new eP();} });
class eE extends u0035 { isConst;current;snap;view;id;Set(fc){ if(this.isConst)(((fd) => fd("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fd) => { console.log(fd);}));else { b1(this.snap);this.current=fc;this.snap={s:cJ(fc, [])};} } Get(){ return this.current;} get View(){ return this.view;} UpdateMaybe(fc){ const fd=fc(this.Get());if(fd!=null&&fd.$==1)this.Set(fd.$0);} constructor(fc, fd, fe){ super();this.isConst=fc;this.current=fe;this.snap=fd;this.view=() => this.snap;this.id=dM();} }
let eF=e_((fc) => class fd { static { eF=fc(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fe=[1, "<table>", "</table>"];let ff=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fe], ["tbody", fe], ["tfoot", fe], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=ff;this.defaultWrap=[0, "", ""];} });
let eG=e_((fc) => class fd { static { eG=fc(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eS.Custom((fe) => { const ff=fe*fe;return 3*ff-2*(ff*fe);});this.UseAnimations=true;} });
function eH(fc, fd){ return fc.$==0?fd:fd.$==0?fc:{$:2, $0:fc, $1:fd};}
function eI(fc){ const fd=[];function fe(ff){ while(true){ if(ff.$==1)return fd.push(ff.$0);else if(ff.$==2){ const fg=ff.$1;const fh=ff.$0;fe(fh);ff=fg;} else return ff.$==3?z((fi) => { fd.push(fi);}, ff.$0):null;} } fe(fc);return fd.slice(0);}
function eJ(fc){ const fd=cD(fc);return cE(eK(), eH, fd);}
function eK(){ return e6.Empty;}
let eL=e_((fc) => class fd { static { eL=fc(this);} static counter;static { this.counter=0;} });
function eM(fc){ return fc.match(new RegExp("\\s"))!==null;}
function eN(fc){ const fd=Date.parse(fc);return isNaN(fd)?null:i(fd);}
function eO(fc, fd, fe, ff){ const fg=+fc;const fh=fg===fg-fg%1&&fg>=fd&&fg<=fe;if(fh)ff.set(fg);return fh;}
class eP extends j { Async(fc, fd, fe, ff, fg){ dU(true, fc, fd, fe, ff, fg, () => { dU(true, fc, fd, fe, ff, fg, void 0);});} }
function eQ(fc){ let fd=[];let fe;for(var ff in fc)fd.push.apply(fd, fc[ff]);return fd;}
class eR extends Error { static New(){ return new this("New");} static New_1(fc){ return new this("New_1", fc);} constructor(fc, fd){ if(fc=="New"){ fc="New_1";fd="The given key was not present in the dictionary.";} if(fc=="New_1"){ const fe=fd;super(fe);} } }
class eS extends j { transformTime;static Custom(fc){ return new eS(fc);} constructor(fc){ super();this.transformTime=fc;} }
function eT(fc, fd){ return new cS("New_2", x(fc, eV(fd)));}
function eU(fc, fd){ const fe=new cS("New_2", eV(fd));fe.ExceptWith(eV(fc));return fe;}
function eV(fc){ const fd=E(fc.Count, void 0);fc.CopyTo(fd, 0);return fd;}
function eW(fc, fd){ const fe=new cS("New_2", eV(fc));fe.IntersectWith(eV(fd));return fe;}
function eX(fc, fd){ let fe;if(fd!=null&&fd.$==1){ const ff=[];fe=fd.$0[0].nextSibling;while(fe!==fd.$0[1]){ ff.push(fe);fe=fe.nextSibling;} return e1(ff);} else { let fg=fc.childNodes.length;const fh=fc.childNodes;let fi=q(fg, (fj) => fh[fj]);return e1(fi);} }
function eY(fc, fd){ const fe=fc.$0;return e1(x((ff) => F((fg) =>!(ff===fg), fe), fd.$0));}
function eZ(fc, fd){ z(fc, fd.$0);}
function e0(fc){ const fd=[];function fe(ff){ while(true){ if(ff!=null&&ff.$==2){ const fg=ff.$0;ff=fg.Current;} else if(ff!=null&&ff.$==1)return fd.push(ff.$0.El);else if(ff==null)return null;else if(ff!=null&&ff.$==5)return fd.push(ff.$0);else if(ff!=null&&ff.$==4)return fd.push(ff.$0.Text);else if(ff!=null&&ff.$==6){ const fh=ff.$0.Els;return(((fk) =>(fl) => { z(fk, fl);})((fk) => { if(fk==null||fk.constructor===Object)fe(fk);else fd.push(fk);}))(fh);} else { const fi=ff.$1;const fj=ff.$0;fe(fj);ff=fi;} } } fe(fc.Children);return e1(cD(fd));}
function e1(fc){ return{$:0, $0:fc};}
function e2(fc){ fc.splice(0, f(fc));}
function e3(fc){ return e7(false, fc, e4);}
function e4(){ const fc=this.v();this.c=true;this.v=fc;this.f=e5;return fc;}
function e5(){ return this.v;}
let e6=e_((fc) => class fd { static { e6=fc(this);} static Empty;static { this.Empty={$:0};} });
function e7(fc, fd, fe){ return{c:fc, v:fd, f:fe};}
fb(() => { b();});
e8();

